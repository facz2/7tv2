(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{256:function(e,t,a){var r={"./gadget-schema.json":506,"./model-schema.json":507,"./unit-schema.json":508,"./vehicle-schema.json":509};function n(e){var t=i(e);return a(t)}function i(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=256},322:function(e){e.exports={a:"0.4.1"}},333:function(e,t){function a(e){if("object"!==typeof e)throw new Error("Locale object must be specified.");for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.currentLocale="",this.localeString={}}a.prototype.hasLocale=function(e){return e in this},a.prototype.load=function(e,t){if(!this.hasLocale(e))throw new Error("Unknown locale "+e);this.localeString[e]=t},a.prototype.set=function(e){if(!this.hasLocale(e))throw new Error("Unknown locale "+e);this.currentLocale=e},a.prototype.get=function(e,t){var a=this.localeString[this.currentLocale],r=e.split(".");if(!a)throw new Error("Locale is not selected.");for(var n=0;n<r.length;n++)if(!(a=a[r[n]]))return e;for(var i in t)a=a.replace(new RegExp("<%=\\s{0,}"+i+"\\s{0,}%>","g"),t[i]);return a},e.exports=a},334:function(e,t,a){e.exports=a(745)},501:function(e,t,a){var r={"./gadget-blank.json":502,"./model-blank.json":503,"./unit-blank.json":504,"./vehicle-blank.json":505};function n(e){var t=i(e);return a(t)}function i(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=501},502:function(e){e.exports={__version:"0.0.1",__card:"Gadget",__custom:{},name:null,cost:0,play:"",weapon:[],description:"",profile:""}},503:function(e){e.exports={__version:"0.0.1",__card:"Model",__theme:"core",__custom:{},name:null,profile:"",role:"",type:"",stats:{fight:0,shoot:0,defence:0,mind:0,body:0,spirit:0},health:1,ratings:0,genres:[],star_quality:[],special_effects:[],weapons:[],notes:"",customization:[]}},504:function(e){e.exports={__version:"0.0.1",__card:"unit",__theme:"core",__custom:{},models:[],genres:[],description:""}},505:function(e){e.exports={__version:"0.0.1",__card:"vehicle",__theme:"core",__custom:{},health:1,genres:[],stats:{capacity:1,defence:0,armour:0},special_effects:[],type:"Vehicle",profile:""}},506:function(e){e.exports={definitions:{},id:"http://crooked-dice.co.uk/gadget.json",type:"object",required:["name","cost","play","description"],additionalProperties:!0,properties:{name:{$id:"#/properties/name",type:"string",title:"Name of the gadget",default:""},cost:{$id:"#/properties/cost",type:"integer",title:"Cost",default:0},play:{$id:"#/properties/play",type:"string",title:"Way of play",default:""},weapon:{$id:"#/properties/weapon",type:"array",title:"Behaves as weapon",maxItems:1,items:{type:"object",properties:{strike:{$id:"#/properties/weapon/strike",type:"integer",title:"Strike",default:null},range:{$id:"#/properties/weapon/range",type:"integer",title:"Range",default:null}}}},description:{$id:"#/properties/description",type:"string",title:"Effects and more",default:""},profile:{default:"",description:"Reference to the base profile",id:"/properties/profile",title:"Profile",type:"string"},__custom:{title:"Custom",id:"/properties/__custom",type:"object",properties:{genres:{id:"/properties/__custom/genres",title:"Custom Genres",type:"array",items:{id:"/properties/__custom/genres/items",title:"Custom Icon",type:"string"}},tint:{title:"Card tint",id:"/properties/__custom/tint",type:"integer",minimum:0,maximum:360,description:"Change card hue"}}}}}},507:function(e){e.exports={definitions:{},id:"http://crooked-dice.co.uk/model.json",properties:{__custom:{title:"Custom",id:"/properties/__custom",type:"object",properties:{genres:{id:"/properties/__custom/genres",title:"Custom Genres",type:"array",items:{id:"/properties/__custom/genres/items",title:"Custom Icon",type:"string"}},tint:{title:"Card tint",id:"/properties/__custom/tint",type:"integer",minimum:0,maximum:360,description:"Change card hue"}}},genres:{title:"Genre/s",description:"The genre of each model determines if it can join your cast or not. Models from a Programme Guide will have their cast\u2019s symbol here instead.",id:"/properties/genres",type:"array",items:{id:"/properties/genres/items",title:"Genre",type:"string",enum:["Civilian","Crime","Law & Order","Military","Secret","Science","Unknown"]},uniqueItems:!0},health:{default:1,description:"From 1 and up. Stars normally have 3, Co-Stars 2 and Extras 1. When a model\u2019s Health is reduced to 0 it is removed from play.",id:"/properties/health",maximum:5,minimum:1,title:"Health",type:"integer"},name:{description:"The name of the model",id:"/properties/name",title:"Name",type:"string"},notes:{default:"",description:"Some notes about the model",id:"/properties/notes",title:"Notes",type:"string"},photo:{description:"Image depicting model",id:"/properties/photo",title:"Picture",type:"string",format:"data-url"},profile:{default:"",description:"Reference to the base profile",id:"/properties/profile",title:"Profile",type:"string"},ratings:{default:0,description:"A number which represents the effectiveness and value of the model in the game.",id:"/properties/ratings",minimum:0,title:"Ratings",type:"number"},role:{default:"Heroic",description:"Model behaviour.",enum:["","Heroic","Neutral","Villain"],id:"/properties/role",title:"Role",type:"string"},special_effects:{title:"Special Effects",description:"These allow the model to do all kinds of useful things during a game. Each special effect listed here is fully explained on the back of the card.",id:"/properties/special_effects",items:{id:"/properties/special_effects/items",properties:{cost:{default:0,description:"Cost in Plot Points",id:"/properties/star_quality/items/properties/cost",title:"Cost",type:"integer"},description:{default:"",description:"SFX explained",id:"/properties/special_effects/items/properties/description",title:"Description",type:"string"},name:{default:"",description:"Name of the SFX",id:"/properties/special_effects/items/properties/name",title:"Name",type:"string"}},type:"object"},type:"array"},star_quality:{id:"/properties/star_quality",title:"Star Quality",description:"Each Star and Co-Star profile lists a star quality. A model can use its star quality up to once per turn, before or after any action it performs, as a free action. To use a star quality, a player must immediately pay the listed plot point (aka \u272a) cost (see page 10), as given on the star quality entry.",items:{id:"/properties/star_quality/items",properties:{cost:{default:1,description:"Cost in Plot Points",id:"/properties/star_quality/items/properties/cost",title:"Cost",type:"integer"},description:{default:"",description:"Star Quality description",id:"/properties/star_quality/items/properties/description",title:"Description",type:"string"},name:{default:"",description:"Star Quality short name",id:"/properties/star_quality/items/properties/name",title:"Name",type:"string"}},type:"object"},type:"array"},stats:{description:"The overall model attributes",title:"Statistics",additionalProperties:!1,id:"/properties/stats",properties:{body:{default:0,description:"The physical strength of a model. High Body equals better Fight attacks.",id:"/properties/stats/properties/body",title:"Body",type:"integer",maximum:6,minimum:0},defence:{default:0,maximum:10,description:"A combination of agility, size and natural toughness.",id:"/properties/stats/properties/defence",title:"Defence",type:"integer"},fight:{default:0,description:"How good the model is at making attacks at close range (e.g. a punch).",id:"/properties/stats/properties/fight",title:"Fight",type:"integer",maximum:6,minimum:0},mind:{default:0,description:"An explanation about the purpose of this instance.",id:"/properties/stats/properties/mind",title:"Mind",type:"integer",maximum:6,minimum:0},shoot:{default:0,description:"How good the model is at making ranged attacks (e.g. with a pistol).",id:"/properties/stats/properties/shoot",title:"Shoot",type:"integer",maximum:6,minimum:0},spirit:{default:0,description:"A model\u2019s courage, staying power and leadership abilities.",id:"/properties/stats/properties/spirit",title:"Spirit",type:"integer",maximum:6,minimum:0}},required:["shoot","body","defence","mind","fight","spirit"],type:"object"},type:{default:"Star",description:"Character promotion",enum:["","Star","Co-Star","Extra"],id:"/properties/type",title:"Type",type:"string"},weapons:{title:"Weapons",id:"/properties/weapons",description:"Most models have at least one attack. This section details:",items:{id:"/properties/weapons/items",properties:{type:{default:"",description:"There will be one of two symbols here, depending on whether the attack is a fight attack (fist symbol) or shoot attack (target symbol).",id:"/properties/weapons/items/properties/attack",title:"Type",type:"string",enum:["","Melee","Range"]},attack:{default:"",description:"The name of the attack (or weapon).",id:"/properties/weapons/items/properties/attack",title:"Attack",type:"string"},effects:{default:"",description:"Any special rules the weapon may have.",id:"/properties/weapons/items/properties/effects",title:"Effects",type:"string"},range:{default:0,description:"The maximum range in inches you can make an attack with this weapon, measured from the attacker to the target model.",id:"/properties/weapons/items/properties/range",title:"Range",type:"integer"},strike:{default:0,description:"The number you add to your dice roll when you make an attack. The higher the better.",id:"/properties/weapons/items/properties/strike",title:"Strike",type:"integer"}},type:"object"},type:"array"},customization:{}},required:["ratings","stats","name","health","type"],type:"object",additionalProperties:!0}},508:function(e){e.exports={definitions:{},id:"http://crooked-dice.co.uk/unit.json",properties:{__custom:{title:"Custom",id:"/properties/__custom",type:"object",properties:{genres:{id:"/properties/__custom/genres",title:"Custom Genres",type:"array",items:{id:"/properties/__custom/genres/items",title:"Custom Icon",type:"string"}},tint:{title:"Card tint",id:"/properties/__custom/tint",type:"integer",minimum:0,maximum:360,description:"Change card hue"}}},genres:{title:"Genre/s",description:"The genre of each model determines if it can join your cast or not. Models from a Programme Guide will have their cast\u2019s symbol here instead.",id:"/properties/genres",type:"array",items:{id:"/properties/genres/items",title:"Genre",type:"string",enum:["Civilian","Crime","Law & Order","Military","Secret","Science","Unknown"]},uniqueItems:!0},name:{description:"The name of the model",id:"/properties/name",title:"Name",type:"string"},description:{default:"",description:"Some description about the unit",id:"/properties/description",title:"Description",type:"string"},notes:{default:"",description:"Some notes about the model",id:"/properties/notes",title:"Notes",type:"string"},photo:{description:"Image depicting model",id:"/properties/photo",title:"Picture",type:"string",format:"data-url"},profile:{default:"",description:"Reference to the base profile",id:"/properties/profile",title:"Profile",type:"string"},role:{default:"Heroic",description:"Model behaviour.",enum:["","Heroic","Neutral","Villain"],id:"/properties/role",title:"Role",type:"string"},type:{default:"Unit",description:"Type",enum:["Unit"],id:"/properties/type",title:"Type",type:"string"},models:{title:"Models",id:"/properties/models",description:"Unit composition",items:{id:"/properties/models/items",properties:{qty:{default:"",description:"Quantity",id:"/properties/models/items/properties/qty",title:"Qty",type:"string"},model:{default:"",description:"Model name",id:"/properties/models/items/properties/effects",title:"Models",type:"string"}},type:"object"},type:"array"}},required:["role","name","models","type"],type:"object",additionalProperties:!0}},509:function(e){e.exports={definitions:{},id:"http://crooked-dice.co.uk/vehicle.json",properties:{__custom:{title:"Custom",id:"/properties/__custom",type:"object",properties:{genres:{id:"/properties/__custom/genres",title:"Custom Genres",type:"array",items:{id:"/properties/__custom/genres/items",title:"Custom Icon",type:"string"}},tint:{title:"Card tint",id:"/properties/__custom/tint",type:"integer",minimum:0,maximum:360,description:"Change card hue"}}},genres:{title:"Genre/s",description:"The genre of each model determines if it can join your cast or not. Models from a Programme Guide will have their cast\u2019s symbol here instead.",id:"/properties/genres",type:"array",items:{id:"/properties/genres/items",title:"Genre",type:"string",enum:["Civilian","Crime","Law & Order","Military","Secret","Science","Unknown"]},uniqueItems:!0},health:{default:1,description:"From 1 and up. Stars normally have 3, Co-Stars 2 and Extras 1. When a model\u2019s Health is reduced to 0 it is removed from play.",id:"/properties/health",maximum:5,minimum:1,title:"Health",type:"integer"},name:{description:"The name of the model",id:"/properties/name",title:"Name",type:"string"},notes:{default:"",description:"Some notes about the model",id:"/properties/notes",title:"Notes",type:"string"},description:{default:"",description:"Some description about the model",id:"/properties/description",title:"Description",type:"string"},photo:{description:"Image depicting model",id:"/properties/photo",title:"Picture",type:"string",format:"data-url"},profile:{default:"",description:"Reference to the base profile",id:"/properties/profile",title:"Profile",type:"string"},ratings:{default:0,description:"A number which represents the effectiveness and value of the model in the game.",id:"/properties/ratings",minimum:0,title:"Ratings",type:"number"},weapons:{title:"Weapons",id:"/properties/weapons",description:"Most models have at least one attack. This section details:",items:{id:"/properties/weapons/items",properties:{type:{default:"",description:"There will be one of two symbols here, depending on whether the attack is a fight attack (fist symbol) or shoot attack (target symbol).",id:"/properties/weapons/items/properties/attack",title:"Type",type:"string",enum:["","Melee","Range"]},attack:{default:"",description:"The name of the attack (or weapon).",id:"/properties/weapons/items/properties/attack",title:"Attack",type:"string"},effects:{default:"",description:"Any special rules the weapon may have.",id:"/properties/weapons/items/properties/effects",title:"Effects",type:"string"},range:{default:0,description:"The maximum range in inches you can make an attack with this weapon, measured from the attacker to the target model.",id:"/properties/weapons/items/properties/range",title:"Range",type:"integer"},strike:{default:0,description:"The number you add to your dice roll when you make an attack. The higher the better.",id:"/properties/weapons/items/properties/strike",title:"Strike",type:"integer"}},type:"object"},type:"array"},special_effects:{title:"Special Effects",description:"These allow the model to do all kinds of useful things during a game. Each special effect listed here is fully explained on the back of the card.",id:"/properties/special_effects",items:{id:"/properties/special_effects/items",properties:{cost:{default:0,description:"Cost in Plot Points",id:"/properties/star_quality/items/properties/cost",title:"Cost",type:"integer"},description:{default:"",description:"SFX explained",id:"/properties/special_effects/items/properties/description",title:"Description",type:"string"},name:{default:"",description:"Name of the SFX",id:"/properties/special_effects/items/properties/name",title:"Name",type:"string"}},type:"object"},type:"array"},stats:{description:"The overall model attributes",title:"Statistics",additionalProperties:!1,id:"/properties/stats",properties:{capacity:{default:1,description:"The maximum number of small and medium based models which can be transported with the vehicle when it makes its movement. Large models count as two medium models. Massive models cannot be transported in vehicles.",id:"/properties/stats/properties/capacity",title:"Capacity",type:"integer",minimum:1},defence:{default:0,maximum:10,description:"A combination of handling, size and natural toughness.",id:"/properties/stats/properties/defence",title:"Defence",type:"integer"},armour:{default:0,description:"The chance that the natural structure of the vehicle can absorb a strike, negating the effects.",id:"/properties/stats/properties/armour",title:"Armour",type:"integer",minimum:0}},required:["capacity","defence","armour"],type:"object"},type:{default:"Vehicle",description:"Type",enum:["Vehicle"],id:"/properties/type",title:"Type",type:"string"}},required:["ratings","stats","name","health","type"],type:"object",additionalProperties:!0}},567:function(e,t,a){},569:function(e,t,a){},604:function(e,t){e.exports='#### 7TV2 Casting Agency - worker\'s manual\n\n\nWelcome to our top-notch Casting Agency. We are devoted to find the best actors to our productions.\nIn order to do so, please follow this advices:\n\n- Contract new assets with [NEW]. Be sure you choose the recommended asset, for a single Actor (Character), Contraptions (Vehicles), or Figuring groups (Unit)\n- You can recall former assets on our filing cabinets using with [OPEN] the Yet Another Actor Log protocol.\n- In order to file their CV once they have finished their job, use [DOWNLOAD YAML]. You can also take photos of them [DOWNLOAD IMAGES]\n- To dismiss all the assets you can use [RESET ALL]\n\n\n**You can browse our profile books for easy use of assets. Please be aware former departament was fired because they have not filled properly this section. Any inquiries of this kind will be accepted through the attached form. Contributions are welcomed. Just build the intended profile and send via Vacuum Tube to our <a href="https://github.com/jorgerobles/7tv2/issues" target="_blank">GITHUB</a>.**\n\nSome hints for proper usage:\n\n- Profile photos should be cut SQUARE to fit on their cards.\n- You can embellish your text using the <a href="https://guides.github.com/features/mastering-markdown/" target="_blank">MarkDown style guide</a>\n\n---\nTBD. This file could be contributed by <a href="https://github.com/jorgerobles/7tv2/blob/master/src/HELP.md" target="_blank">volunteering</a>. Don\'t be lazy.\n___\n'},671:function(e,t,a){},674:function(e,t,a){},692:function(e,t,a){e.exports=a.p+"static/media/sfx.6a2dd9ee.yaml"},693:function(e,t,a){e.exports=a.p+"static/media/sfx-sq.423a1cce.yaml"},694:function(e,t,a){var r={"./Core_Gadgets.yaml":695,"./Core_Heroic_Extras.yaml":696,"./Core_Heroic_Star_Co-Star.yaml":697,"./Core_Neutral_Extras.yaml":698,"./Core_Vehicles.yaml":699,"./Core_Villainous_Extras.yaml":700,"./Core_Villainous_Star_Co-Star.yaml":701};function n(e){var t=i(e);return a(t)}function i(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=694},695:function(e,t,a){e.exports=a.p+"static/media/Core_Gadgets.f5f7c24c.yaml"},696:function(e,t,a){e.exports=a.p+"static/media/Core_Heroic_Extras.dd847c38.yaml"},697:function(e,t,a){e.exports=a.p+"static/media/Core_Heroic_Star_Co-Star.0b8fed6e.yaml"},698:function(e,t,a){e.exports=a.p+"static/media/Core_Neutral_Extras.5a9919fa.yaml"},699:function(e,t,a){e.exports=a.p+"static/media/Core_Vehicles.14625b48.yaml"},700:function(e,t,a){e.exports=a.p+"static/media/Core_Villainous_Extras.8330d9bc.yaml"},701:function(e,t,a){e.exports=a.p+"static/media/Core_Villainous_Star_Co-Star.f9620acb.yaml"},702:function(e,t,a){var r={"./gadget-uischema.json":703,"./model-uischema.json":704,"./unit-uischema.json":705,"./vehicle-uischema.json":706};function n(e){var t=i(e);return a(t)}function i(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=702},703:function(e){e.exports={"ui:options":{expandable:!1},"ui:order":["name","cost","play","weapon","description","__card","__custom","*"],description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}},profile:{"ui:disabled":!0}}},704:function(e){e.exports={"ui:options":{expandable:!1},"ui:order":["name","profile","role","type","photo","stats","star_quality","special_effects","weapons","health","ratings","genres","notes","__custom","*"],__custom:{tint:{"ui:widget":"range"},genres:{items:{"ui:widget":"pictureWidget"}}},genres:{"ui:widget":"checkboxes"},photo:{"ui:widget":"pictureWidget"},notes:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}},special_effects:{"ui:field":"sfxArrayField",items:{"ui:order":["name","cost","description"],"ui:field":"collapseObjectField","ui:options":{template:"{name} ({cost})"},description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}}}},star_quality:{"ui:field":"sqArrayField",items:{"ui:order":["name","cost","description"],"ui:field":"collapseObjectField","ui:options":{template:"{name} ({cost})"},description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}}}},weapons:{items:{"ui:order":["type","attack","range","strike","effects"]}},stats:{"ui:order":["fight","shoot","defence","mind","body","spirit"]}}},705:function(e){e.exports={genres:{"ui:widget":"checkboxes"},description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}},models:{items:{model:{"ui:widget":"textarea"}}},photo:{"ui:widget":"pictureWidget"},"ui:order":["name","description","profile","type","role","photo","models","genres","notes","__custom","*"],__custom:{tint:{"ui:widget":"range"},genres:{items:{"ui:widget":"pictureWidget"}}}}},706:function(e){e.exports={"ui:order":["name","description","profile","type","photo","stats","*","health","ratings","genres","notes","__custom"],__custom:{tint:{"ui:widget":"range"},genres:{items:{"ui:widget":"pictureWidget"}}},genres:{"ui:widget":"checkboxes"},photo:{"ui:widget":"pictureWidget"},description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}},notes:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}},special_effects:{"ui:field":"sfxArrayField",items:{"ui:order":["name","cost","description"],"ui:field":"collapseObjectField","ui:options":{template:"{name} ({cost})"},description:{"ui:widget":"toolTextareaWidget","ui:options":{rows:15,textTools:{ToolInsertText:["\u272a"]}}}}},weapons:{items:{"ui:order":["type","attack","range","strike","effects"]}}}},738:function(e,t,a){},740:function(e,t,a){},742:function(e,t,a){},744:function(e){e.exports={Villain:"Villainous"}},745:function(e,t,a){"use strict";a.r(t);var r=a(56),n=a(31),i=a(25),o=a(0),s=a.n(o),c=a(15),l=a.n(c),p=a(32),d=a(321),u=a.n(d),m=a(51),h=a(59),f=a(322),g=a(114),y=a.n(g),v=a(52),b=a.n(v),E=a(323),_=a.n(E),k=a(144),j=a(141),C=a.n(j),w=a(197),O=new(a.n(w).a);O.addMetaSchema(a(500));var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){return new Promise(function(a,r){var n=new FileReader;n.onload=function(e){try{if(t)a(b.a.safeLoad(n.result));else{var i=[];b.a.safeLoadAll(n.result,function(e){i.push(e)}),a(i)}}catch(o){console.error(o),r(o)}},n.readAsText(e)})}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipInvalid:!0};return t&&Array.isArray(e)?e.map(function(e){try{return b.a.safeDump(_()(e,{emptyArrays:!1,emptyObjects:!1,emptyStrings:!1,nullValues:!1}),a)}catch(t){console.error(e)}}).join("\n---\n"):b.a.safeDump(e,a)},N={currentCharacter:null,cast:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;e=Object.assign({},e);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model";return e&&e.__card&&(t=e.__card),a(501)("./"+t.toLowerCase()+"-blank.json")}(t.payload);switch(t.type){case j.actionTypes.INIT:return A(e);case"CHARACTER_NEW":var n=y.a.v4();e.cast=Object(h.a)(e.cast).concat([Object.assign({},r,{id:n,name:(Math.round(Math.random())?Object(k.first)():Object(k.middle)())+" "+Object(k.last)(),__version:f.a},t.payload||{})]),e.currentCharacter=n;break;case"CHARACTER_LOAD":e.cast=Object(h.a)(e.cast).concat([Object.assign({},r,t.payload,{id:y.a.v4()})]);break;case"CHARACTER_REMOVE":e.cast=e.cast.slice().filter(function(e){return e.id!==t.payload.id});break;case"CHARACTER_SELECT":e.currentCharacter=t.payload.id;break;case"CHARACTER_UPDATE":e.cast=e.cast.slice().map(function(e){return e.id!==t.payload.id?e:t.payload});break;case"CHARACTER_APPEND_TRAIT":if(!t.payload.value)return;e.cast=e.cast.slice().map(function(e){if(e.id!==t.payload.id)return e;var a=Object.assign({},e);return a[t.payload.key].push(t.payload.value),a});break;case"CAST_CLEAR":e.cast=[];break;default:return e}return e},A=function(e){return e},R=a(19),L=a(20),D=a(23),H=a(21),M=a(22),I=a(116),P=a(9),q=a(60),V=a.n(q),U=(a(567),a(569),a(324)),W=a.n(U);function F(e,t,a){var r=new Blob([t],{type:a}),n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),n.remove()}function G(e){if(!e)return{};var t={},a=/data:([^;]+);(?:([^;]+)?;)+(base64,.*$)/gi.exec(e);return a&&(t.mime=a[1]),a.length>2&&a.slice(2,a.length-1).forEach(function(e){var a=e.split("="),r=Object(i.a)(a,2),n=r[0],o=r[1];t[n]=o}),t.data=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([r],{type:a})}(e),t}function z(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.getElementById(e),n=a.selector?r.querySelectorAll(a.selector):[r];n.forEach(function(r,i){i=n.length>1?i:"",B(r,a).then(function(a){var r=document.createElement("a");r.download=t.replace("{n}",i)||"7tv_cast-"+e+".png",r.style="display:none",r.href=a,document.body.appendChild(r),r.click(),r.remove()})})}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a){W()(e,t).then(function(e){a(e.toDataURL("image/png"))})})}var K=a(24),X=a(325),$=a.n(X),J=a(209),Y=a.n(J),Q=a(326),Z=a.n(Q),ee=a(327),te=a.n(ee),ae=(a(603),function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e)))._domclick=function(e){var t=this;e.preventDefault();var a={ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey};this.input.__changeHandler&&this.input.removeEventListener("change",this.input.__changeHandler),this.input.value="",this.input.__changeHandler=function(e){e.preventDefault(),t.props.onChange(e,a)},this.input.addEventListener("change",this.input.__changeHandler),this.input.click()}.bind(Object(K.a)(Object(K.a)(a))),a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.clicker.addEventListener("click",this._domclick)}},{key:"componentWillUnMount",value:function(){this.clicker.removeEventListener("click",this._domclick)}},{key:"render",value:function(){var e=this;return s.a.createElement("span",{style:this.props.style},s.a.createElement("span",{ref:function(t){return e.clicker=t}},this.props.children),s.a.createElement("input",{type:"file",ref:function(t){e.input=t},multiple:!0,style:{display:"none"},accept:this.props.accept}))}}]),t}(s.a.Component)),re=function(e,t,a,r,n,i){for(var o=Math.abs(r-t),s=Math.abs(n-a),c=Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=c/i,p=Math.floor(l)%2===0?c/Math.ceil(l):c/Math.floor(l),d=p*(o/c),u=p*(s/c),m=t,h=a;m<=r&&h<=n;)e.line(m,h,m+d,h+u),m+=2*d,h+=2*u},ne=function(e){var t=e.md,a=void 0===t?"":t,r=e.Component,i=void 0===r?"span":r,o=e.Options,c=void 0===o?{}:o,l=Object(I.a)(e,["md","Component","Options"]),p=Y()(a,c);return c.inline&&(p=p.replace(/^<p>/gi,"").replace(/<\/p>[\r\n]*$/gi,"").replace(/[\r\n]/gi,"")),s.a.createElement(i,Object.assign({},Object(n.a)({},l),{dangerouslySetInnerHTML:{__html:p}}))},ie=function(e){function t(){var e,a;Object(R.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(n)))).state={status:null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"status",value:function(e){this.setState({status:e?"("+e+")":""}),this.forceUpdate()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ui paper editorToolBar"},s.a.createElement("h2",{className:"din",style:{textAlign:"center",marginBottom:0}},"7TV Studios"),s.a.createElement("h5",{className:"din",style:{textAlign:"center",marginTop:0}}," casting agency"),s.a.createElement("div",{style:{margin:5}},s.a.createElement(P.e,{bsStyle:"primary",bsSize:"small",title:"New",id:"new_model"},s.a.createElement(P.k,{eventKey:"1",onClick:function(t){return e.props.dispatch({type:"CHARACTER_NEW"})}},"Character"),s.a.createElement(P.k,{eventKey:"2",onClick:function(t){return e.props.dispatch({type:"CHARACTER_NEW",payload:{__card:"vehicle"}})}},"Vehicle"),s.a.createElement(P.k,{eventKey:"3",onClick:function(t){return e.props.dispatch({type:"CHARACTER_NEW",payload:{__card:"unit"}})}},"Unit"),s.a.createElement("hr",null),s.a.createElement(P.k,{eventKey:"4",onClick:function(t){return e.props.dispatch({type:"CHARACTER_NEW",payload:{__card:"gadget"}})}},"Gadget")),s.a.createElement(ae,{style:{display:"block",margin:"5px 0 5px 0"},accept:".yaml",onChange:function(t){return function(e,t){var a=e.target.files;window.characterLoader||(window.characterLoader=new $.a(1,1/0));var r=!0,n=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;window.characterLoader.add(S(c)).then(function(e){e.forEach(function(e,a){t(e,a)},void 0)}).catch(console.error)}}catch(l){n=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}}(t,function(t){return e.props.dispatch({type:"CHARACTER_LOAD",payload:t})})}},s.a.createElement(P.b,{block:!0,bsSize:"small",bsStyle:"success"},s.a.createElement(P.h,{glyph:"upload"})," Load .Yaml")),s.a.createElement(P.b,{block:!0,bsSize:"small",onClick:function(t){return a=e.props.cast,void F("7TV_cast.yaml",x(a,!0),"application/x-yaml");var a},bsStyle:"warning"},s.a.createElement(P.h,{glyph:"download"})," Download as .Yaml"),s.a.createElement(P.b,{block:!0,bsSize:"small",onClick:function(t){e.props.cast.forEach(function(e){z(e.id,"7TV_cast-"+V()(e.name||e.id)+".png",{scale:2})})},bsStyle:"danger"},s.a.createElement(P.h,{glyph:"download"})," Download as Single Images"),s.a.createElement(P.b,{block:!0,bsSize:"small",onClick:function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"7TVcast",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.warn,r=new Z.a({orientation:"landscape",format:[10.55,7.55],unit:"in"}),n=0,i=e.map(function(t){return new Promise(function(r,i){B(document.getElementById(t.id),{scale:2}).then(function(i){a("Processing image "+ ++n+"/"+e.length),r({dataURL:i,type:t.__card})})})}),o=[{x:0,y:0},{x:5,y:0},{x:0,y:3.47},{x:5,y:3.47}];Promise.all(i).then(function(e){te()(e,o.length).forEach(function(e,t){a("Generating page "+(t+1)),t&&r.addPage(),r.setDrawColor(255,255,255),r.setLineWidth(.01),e.forEach(function(e,t){var a=e.dataURL,n=e.type;r.addImage(a,"JPEG",.3+o[t].x,.3+o[t].y,5,"gadget"!=n.toLowerCase()?3.5:1.75)}),re(r,2.8,0,2.8,7.55,.05),re(r,5.3,0,5.3,7.55,.01),re(r,7.8,0,7.8,7.55,.05),re(r,0,3.77,10.55,3.77,.01)}),r.save(t+".pdf"),a(null)})}(e.props.cast,null,e.status.bind(e))},bsStyle:"danger"},s.a.createElement(P.h,{glyph:"download"})," Download as PDF ",this.state.status),s.a.createElement(P.b,{block:!0,bsSize:"small",onClick:function(t){confirm("Are you sure? This will wipe all the current cards! It is a bloody nuke!")&&e.props.dispatch({type:"CAST_CLEAR"})},bsStyle:"info"},s.a.createElement(P.h,{glyph:"trash"})," Reset all")))}}]),t}(s.a.Component);ie=Object(p.b)(function(e){return{cast:e.cast}})(ie);var oe=function(e){function t(){var e,a;Object(R.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(n)))).state={open:!1},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ui paper",style:{margin:5}},s.a.createElement(P.b,{block:!0,bsSize:"small",onClick:function(){return e.setState({open:!e.state.open})},bsStyle:"default"},"Help"),s.a.createElement(P.d,{in:this.state.open},s.a.createElement("div",{className:"help",dangerouslySetInnerHTML:{__html:Y()(a(604))}})))}}]),t}(s.a.Component),se=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ui paper"}," ",s.a.createElement(P.e,{bsStyle:"primary",bsSize:"xsmall",title:"Debug",id:"new_model",dropup:!0},s.a.createElement(P.k,{eventKey:"1",onClick:function(t){return a=e.props.state,void F("7TV-debug-"+new Date+".json",JSON.stringify(a),"application/json");var a}},"Download data snapshot")))}}]),t}(s.a.Component);se=Object(p.b)(function(e){return{state:e}})(se);var ce=function(e){var t=e.stats,a=e.className,r=void 0===a?"":a;Object(I.a)(e,["stats","className"]);return s.a.createElement("div",{className:"stats "+r},Object.entries(t).map(function(e,t){var a=Object(i.a)(e,2),r=a[0],n=a[1];return s.a.createElement("div",{key:t,className:r},s.a.createElement("div",null,r),s.a.createElement("div",null,n))}))},le=function(e){var t=e.photo;Object(I.a)(e,["photo"]);return s.a.createElement("div",{className:"pic",style:{backgroundImage:"url("+t+")"}})},pe=function(e){var t=e.items;return s.a.createElement("table",{className:"weapons"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Attack"),s.a.createElement("td",null,"Range"),s.a.createElement("td",null,"Strike"),s.a.createElement("td",null,"Effects"))),s.a.createElement("tbody",null,t.map(function(e,t){return s.a.createElement("tr",{className:V()(e.type||"").toLowerCase(),key:t},s.a.createElement("td",{className:"attack"},e.attack),s.a.createElement("td",{className:"range"},e.range),s.a.createElement("td",{className:"strike"},"+",e.strike),s.a.createElement(ne,{Component:"td",className:"effects",md:e.effects,Options:{inline:!0}}))})))},de=function(e){var t=e.value;return s.a.createElement("div",{className:"ratings"},s.a.createElement("strong",null,s.a.createElement("val",null,t)," RATINGS"))},ue=function(e){var t=e.value,a=Array(Number(t)).fill("").map(function(e,t){return s.a.createElement("div",{key:t})});return s.a.createElement("div",{className:"health"},a)},me=function(e){var t=e.object,a=e.full,r=t.cost,n=t.name,i=t.level,o=t.description,c=r?Array(r).fill("").map(function(e,t){return s.a.createElement("i",{key:t,className:"icon-star_icon"})}):void 0;return a?s.a.createElement("p",null,s.a.createElement("strong",null,s.a.createElement(ne,{md:n,Options:{inline:!0}}),i?" (".concat(i,")"):"",c?" ":"",c),s.a.createElement("br",null),s.a.createElement(ne,{md:o})):s.a.createElement("span",null,n,i?" (".concat(i,")"):"",c?" ":"",c)},he=function(e){var t=e.text;return s.a.createElement("p",{className:"description"},s.a.createElement(ne,{md:t}))},fe=function(e){var t=e.name,a=void 0===t?"":t,r=e.alignment,n=void 0===r?"":r,i=e.type,o=void 0===i?"":i;return s.a.createElement("div",{className:"title"},s.a.createElement("strong",null,a)," ",s.a.createElement("i",{className:o.toLowerCase()})," ",s.a.createElement("span",null,n," ",o))},ge=function(e){var t=e.values,a=e.additional,r=void 0===a?[]:a;return s.a.createElement("div",{className:"tags"},t.map(function(e,t){return s.a.createElement("i",{key:t,className:"icon-"+V()(e||"").toLowerCase()})}),(r||[]).map(function(e,a){return s.a.createElement("img",{key:a+t.length,src:e})}))},ye=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=(this.props.character.__card||"Model").toLowerCase(),t=(this.props.character.__theme||"core").toLowerCase();switch(e){case"vehicle":return this.renderVehicle(e,t);case"unit":return this.renderUnit(e,t);case"gadget":return this.renderGadget(e);default:return this.renderModel(e,t)}}},{key:"renderVehicle",value:function(e,t){var a=this.props.character,r=a.health,n=void 0===r?0:r,i=a.ratings,o=void 0===i?0:i,c=a.name,l=a.type,p=a.photo,d=a.description,u=void 0===d?"":d,m=a.weapons,h=void 0===m?[]:m,f=a.__custom,g=f?f.tint:0,y=f?f.genres:null,v=this.props.character.genres||[],b=this.props.character.special_effects||[],E=this.props.character.stats,_=E.capacity,k=void 0===_?0:_,j=E.armour,C=void 0===j?0:j,w=E.defence,O=void 0===w?0:w;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"front"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(g,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:c,type:l}),s.a.createElement(le,{photo:p}),s.a.createElement(ce,{stats:{capacity:k,armour:C,defence:O}}),h.length?s.a.createElement(pe,{items:h}):s.a.createElement(he,{text:u}),s.a.createElement("div",{className:"sfxribbon"},s.a.createElement("dl",null,s.a.createElement("dt",null,"Special effects"),s.a.createElement("dd",null,b.map(function(e,t){return s.a.createElement(me,{key:t,object:e})})))),s.a.createElement(de,{value:o}),s.a.createElement(ue,{value:n}),s.a.createElement(ge,{values:v,additional:y}))))}},{key:"renderUnit",value:function(e,t){var a=this.props.character.__custom,r=a?a.tint:0;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"front"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(r,"deg)")}}),s.a.createElement("div",{className:"foreground"})))}},{key:"renderModel",value:function(e,t){var a=this.props.character.stats,r=a.fight,n=void 0===r?0:r,i=a.shoot,o=void 0===i?0:i,c=a.defence,l=void 0===c?0:c,p=a.mind,d=void 0===p?0:p,u=a.body,m=void 0===u?0:u,h=a.spirit,f=void 0===h?0:h,g=this.props.character,y=g.health,v=g.ratings,b=g.weapons,E=g.name,_=g.role,k=g.type,j=g.photo,C=g.__custom,w=C?C.tint:0,O=this.props.character.star_quality,S=this.props.character.special_effects,x=this.props.character.genres||[],N=C?C.genres:null;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"front"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(w,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:E,alignment:dt(_),type:k}),s.a.createElement(le,{photo:j}),s.a.createElement(ce,{className:"left",stats:{fight:n,shoot:o,defence:l}}),s.a.createElement(ce,{className:"right",stats:{mind:d,body:m,spirit:f}}),s.a.createElement("div",{className:"sfxribbon"},s.a.createElement("dl",null,s.a.createElement("dt",null,"Star quality"),s.a.createElement("dd",null,O.map(function(e,t){return s.a.createElement(me,{key:t,object:e})}))),s.a.createElement("dl",null,s.a.createElement("dt",null,"Special effects"),s.a.createElement("dd",null,S.map(function(e,t){return s.a.createElement(me,{key:t,object:e})})))),s.a.createElement(pe,{items:b}),s.a.createElement(de,{value:v}),s.a.createElement(ue,{value:y}),s.a.createElement(ge,{values:x,additional:N}))))}},{key:"renderGadget",value:function(e){this.props.character.star_quality,this.props.character.special_effects;var t=this.props.character,a=(t.health,t.ratings,t.weapons,t.name,t.role,t.type,t.notes,t.__custom),r=a?a.tint:0;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:"card "+e+" front"},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(r,"deg)")}}),s.a.createElement("div",{className:"foreground"})))}}]),t}(s.a.Component),ve=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=(this.props.character.__card||"Model").toLowerCase(),t=(this.props.character.__theme||"core").toLowerCase();switch(e){case"vehicle":return this.renderVehicle(e,t);case"unit":return this.renderUnit(e,t);case"gadget":return this.renderGadget(e);default:return this.renderModel(e,t)}}},{key:"renderVehicle",value:function(e,t){var a=this.props.character.special_effects||[],r=this.props.character,n=r.name,i=r.type,o=void 0===i?"":i,c=r.notes,l=void 0===c?"":c,p=r.weapons,d=void 0===p?[]:p,u=r.description,m=void 0===u?"":u,h=r.__custom,f=h?h.tint:0;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"back"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(f,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:n,type:o}),s.a.createElement("section",null,d.length&&m?s.a.createElement("heading",null,"Description"):void 0,d.length&&m?s.a.createElement(he,{text:m}):void 0,a.length?s.a.createElement("heading",null,"Special effects"):void 0,a.map(function(e,t){return s.a.createElement(me,{key:t,object:e,full:!0})}),l?s.a.createElement("heading",null,"Notes"):void 0,s.a.createElement("p",null,l)))))}},{key:"renderUnit",value:function(e,t){var a=this.props.character,r=a.name,n=a.role,i=a.type,o=void 0===i?"":i,c=(a.notes,a.models),l=void 0===c?[]:c,p=a.description,d=void 0===p?"":p,u=a.photo,m=a.__custom,h=m?m.tint:0,f=this.props.character.genres||[],g=m?m.genres:null;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"back"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(h,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:r,alignment:dt(n),type:o}),s.a.createElement(ge,{values:f,additional:g}),s.a.createElement("div",{className:"content"},s.a.createElement(he,{text:d}),l.map(function(e,t){return s.a.createElement("dl",{className:"model",key:t},s.a.createElement("dt",null,e.qty),s.a.createElement("dd",null,e.model))}),s.a.createElement(le,{photo:u})))))}},{key:"renderModel",value:function(e,t){var a=this.props.character.star_quality,r=this.props.character.special_effects,n=this.props.character,i=(n.health,n.ratings,n.weapons,n.name),o=n.role,c=n.type,l=n.notes,p=void 0===l?"":l,d=n.__custom,u=d?d.tint:0;return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:[t,"card",e,"back"].join(" ")},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(u,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:i,alignment:dt(o),type:c}),s.a.createElement("section",null,a.length?s.a.createElement("heading",null,"Star quality"):void 0,a.map(function(e,t){return s.a.createElement(me,{key:t,object:e,full:!0})}),r.length?s.a.createElement("heading",null,"Special effects"):void 0,r.map(function(e,t){return s.a.createElement(me,{key:t,object:e,full:!0})}),p&&s.a.createElement("heading",null,"Notes"),s.a.createElement("p",null,p)))))}},{key:"renderGadget",value:function(e){var t=this.props.character,a=t.name,r=t.play,o=t.weapon,c=t.cost,l=t.description,p=t.__custom,d=o.length?o[0].strike:"",u=o.length?o[0].range:"",m=p?p.tint:0,h=c?Array(c).fill("").map(function(e,t){return s.a.createElement("i",{key:t,className:"icon-star_icon"})}):"Free",f=ut(Object.entries({play:r,cost:h,range:u,strike:d}).filter(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return String(void 0!==a?a:"").length}));return s.a.createElement("div",{className:"cellophan"},s.a.createElement("div",{className:"card "+e+" back"},s.a.createElement("div",{className:"background",style:{filter:"hue-rotate(".concat(m,"deg)")}}),s.a.createElement("div",{className:"foreground"},s.a.createElement(fe,{name:a}),s.a.createElement("section",{className:"content"},s.a.createElement(ce,{stats:Object(n.a)({},f)}),s.a.createElement(he,{text:l})))))}}]),t}(s.a.Component),be=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this,t=this.props.character.id;return s.a.createElement("div",{className:"viewport "+(t==this.props.currentCharacter?"selected":""),onClick:function(a){a.stopPropagation(),e.props.dispatch({type:"CHARACTER_SELECT",payload:{id:t}})}},s.a.createElement("div",{id:t},s.a.createElement(ye,{character:this.props.character}),s.a.createElement(ve,{character:this.props.character})),s.a.createElement("div",{className:"ui paper",style:{position:"absolute",right:0}},s.a.createElement(P.e,{bsSize:"xsmall",title:"",bsStyle:"warning",id:"ddb-"+t},s.a.createElement(P.k,{eventKey:"1",onClick:function(a){e.props.dispatch({type:"CHARACTER_REMOVE",payload:{id:t}})}},"Remove"),s.a.createElement(P.k,{eventKey:"2",onClick:function(t){var a;a=e.props.character,F("7TV_cast-"+V()(a.name||a.id)+".yaml",x(a,!1),"application/x-yaml")}},"Download"),s.a.createElement(P.k,{eventKey:"3",onClick:function(a){z(t,"7TV_cast-"+V()(e.props.character.name||e.props.character.id)+".png",{scale:2})}},"Download as Single Image"),s.a.createElement(P.k,{eventKey:"4",onClick:function(a){z(t,"7TV_cast-"+V()(e.props.character.name||e.props.character.id)+"_{n}.png",{scale:2,selector:".cellophan"})}},"Download as Separate Images"))))}}]),t}(s.a.Component);be=Object(p.b)(function(e){return{currentCharacter:e.currentCharacter}})(be);var Ee=a(201),_e=a.n(Ee),ke=(a(671),a(674),a(205)),je=a.n(ke),Ce=(a(305),a(204)),we=a.n(Ce),Oe=(a(303),a(203)),Se=a.n(Oe),xe=a(202),Ne=a.n(xe),Te=a(328),Ae=a.n(Te),Re=a(329),Le=a.n(Re),De=(a(677),{ToolInsertText:function(e,t){var a=function(e){var a=document.getElementById(t.id);!function(e,t){if(e){var a=e.scrollTop,r=0,n=e.selectionStart||"0"===e.selectionStart?"ff":!!document.selection&&"ie";if("ie"===n){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),r=i.text.length}else"ff"===n&&(r=e.selectionStart);var o=e.value.substring(0,r),s=e.value.substring(r,e.value.length);if(e.value=o+t+s,r+=t.length,"ie"===n){e.focus();var c=document.selection.createRange();c.moveStart("character",-e.value.length),c.moveStart("character",r),c.moveEnd("character",0),c.select()}else"ff"===n&&(e.selectionStart=r,e.selectionEnd=r,e.focus());e.scrollTop=a}}(a,e),t.onChange(a.value)};return function(t){return s.a.createElement(P.c,{bsSize:"xsmall"},e.map(function(e,t){return s.a.createElement(P.b,{bsStyle:"info",key:t,onClick:function(t){return a(e)}},"Insert ",e)}))}}}),He=function(e,t){return Object.entries(e).map(function(e,a){var r=Object(i.a)(e,2),n=r[0],o=r[1],c=De[n](o,t);return s.a.createElement(c,{key:a})})};function Me(e){var t=e.options;return s.a.createElement("div",null,He(t.textTools,Object(n.a)({},e)),s.a.createElement(je.a,e))}var Ie=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e))).state={value:"",errorSchema:void 0,crop:{aspect:1}},a.uploadHandler=a.uploadHandler.bind(Object(K.a)(Object(K.a)(a))),a.cropHandler=a.cropHandler.bind(Object(K.a)(Object(K.a)(a))),a.updateHandler=a.updateHandler.bind(Object(K.a)(Object(K.a)(a))),a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"uploadHandler",value:function(e,t){e=e.replace(/name=([^;]+);/gi,function(e,t){return"name="+encodeURIComponent(t)+";"}),this.setState({value:e,errorSchema:t}),this.props.onChange(e,t)}},{key:"cropHandler",value:function(e,t,a){this.setState({crop:e,pixelCrop:t,fileName:a})}},{key:"updateHandler",value:function(){var e,t,a,r=this;confirm("No Way Back!")&&(e=this.props.value,t=this.state.pixelCrop,a=this.state.fileName,new Promise(function(r,n){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var o=i.getContext("2d"),s=new Image;s.onload=function(){var e,n;o.drawImage(s,t.x,t.y,t.width,t.height,0,0,t.width,t.height),r((e=i.toDataURL("image/jpeg"),n=a,e.replace(";base64",";name=".concat(n,";base64"))))},s.src=e})).then(function(e){r.props.onChange(e,r.state.errorSchema),r.setState({crop:{aspect:1}})})}},{key:"render",value:function(){var e=this,t=G(this.props.value),a=t.name,r=t.data,i=t.mime,o=Object(n.a)({},this.props,{onChange:this.uploadHandler});return s.a.createElement("div",{className:"pictureWidget"},s.a.createElement("small",null,"Drag to make a crop Marquee"),s.a.createElement("br",null),s.a.createElement(Le.a,{src:this.props.value||"",crop:this.state.crop,onChange:function(t,r){return e.cropHandler(t,r,a)}}),s.a.createElement("br",null),s.a.createElement(P.b,{onClick:this.updateHandler,bsSize:"xsmall",bsStyle:"danger",disabled:!this.props.value},s.a.createElement(P.h,{glyph:"pencil"})," Crop"),s.a.createElement(P.b,{onClick:function(e){F(decodeURIComponent(a),r,i)},bsSize:"xsmall",bsStyle:"info",disabled:!this.props.value},s.a.createElement(P.h,{glyph:"download"})," Download"),s.a.createElement("hr",null),s.a.createElement(we.a,o))}}]),t}(s.a.Component);function Pe(e){return function(t){return s.a.createElement("div",null,s.a.createElement(Ne.a,t),e.map(function(e,a){return s.a.cloneElement(e,{key:a,widget:t})}))}}var qe=function(e){var t=Ae()((e.uiSchema["ui:options"]||{}).template||"",e.formData);return s.a.createElement("details",null,s.a.createElement("summary",null,t),s.a.createElement(Se.a,e))},Ve=a(330),Ue=a.n(Ve),We=(a(136),function(e,t){var a={};return"string"===typeof t?a.description=t:a=Object.assign({},t),a.cost=a.cost||0,a.name=e,a}),Fe=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(K.a)(Object(K.a)(a))),a.state={data:{},value:null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"handleClick",value:function(e){if(this.state.value){var t=this.props.widget.formData;this.props.widget.onChange(Object(h.a)(t).concat([this.state.value]),{validate:!1})}}},{key:"componentDidMount",value:function(){var e=this;fetch(a(692)).then(function(t){t.text().then(function(e){this.setState({data:b.a.safeLoad(e)})}.bind(e))})}},{key:"render",value:function(){var e=this;return s.a.createElement(P.g,null,s.a.createElement(P.i,null,s.a.createElement(P.f,{componentClass:"select",placeholder:"Select SFX to add",defaultValue:"",onChange:function(t){e.setState(Object.assign(e.state,{value:JSON.parse(t.target.value)}))}},s.a.createElement("option",null,"Select SFX to append"),Object.entries(this.state.data).map(function(e,t){var a=Object(i.a)(e,2),r=a[0],n=a[1];return s.a.createElement("optgroup",{key:t,label:r},Object.entries(n).map(function(e,t){var a=Object(i.a)(e,2),r=a[0],n=a[1];return s.a.createElement("option",{key:t,value:JSON.stringify(We(r,n))},r)}))})),s.a.createElement(P.i.Button,null,s.a.createElement(P.b,{bsStyle:"success",onClick:function(t){e.handleClick(t)}},"Add SFX"))))}}]),t}(s.a.Component);Fe=Object(p.b)(function(e){return{currentCharacter:e.currentCharacter}})(Fe);var Ge=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(K.a)(Object(K.a)(a))),a.state={data:{},value:null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"handleClick",value:function(e){if(this.state.value){var t=this.props.widget.formData;this.props.widget.onChange(Object(h.a)(t).concat([this.state.value]),{validate:!1})}}},{key:"componentDidMount",value:function(){var e=this;fetch(a(693)).then(function(t){t.text().then(function(e){this.setState({data:b.a.safeLoad(e)})}.bind(e))})}},{key:"render",value:function(){var e=this;return s.a.createElement(P.g,null,s.a.createElement(P.i,null,s.a.createElement(P.f,{componentClass:"select",placeholder:"Select SFX to add",defaultValue:"",onChange:function(t){e.setState(Object.assign(e.state,{value:JSON.parse(t.target.value)}))}},s.a.createElement("option",null,"Select SFX to append"),Object.entries(this.state.data).map(function(e,t){var a=Object(i.a)(e,2),r=a[0],n=a[1];return s.a.createElement("optgroup",{key:t,label:r},Object.entries(n).map(function(e,t){var a=Object(i.a)(e,2),r=a[0],n=a[1];return s.a.createElement("option",{key:t,value:JSON.stringify(We(r,n))},r)}))})),s.a.createElement(P.i.Button,null,s.a.createElement(P.b,{bsStyle:"success",onClick:function(t){e.handleClick(t)}},"Add SFX"))))}}]),t}(s.a.Component);Ge=Object(p.b)(function(e){return{currentCharacter:e.currentCharacter}})(Ge);var ze=function(e){var t=e.keys(),a=t.map(e);return t.reduce(function(e,t,i){return Object(n.a)({},e,Object(r.a)({},t,a[i]))},{})}(a(694)),Be=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e))).state={casting:{},selected:null,character:null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object.entries(ze).forEach(function(t){var a=Object(i.a)(t,2),o=a[0],s=a[1];fetch(s).then(function(t){t.text().then(function(e){var t={};b.a.safeLoadAll(e).forEach(function(e){t[e.name]=e}),this.setState(Object(n.a)({},this.state,{casting:Object(n.a)({},this.state.casting,Object(r.a)({},o.replace(/(^\.\/)|(\.yaml$)/gi,"").replace(/_/gi," "),t))}))}.bind(e))})})}},{key:"render",value:function(){var e,t=this;this.state.casting&&(e=s.a.createElement(P.a,null,Object.entries(this.state.casting).map(function(e,r){var n=Object(i.a)(e,2),o=n[0],c=n[1];return s.a.createElement(P.l,{header:o,eventKey:r,key:r},s.a.createElement("div",{className:"listing"},Object.entries(c).map(function(e,r){var n=Object(i.a)(e,2),o=n[0];n[1];return s.a.createElement(Ue.a,{key:y.a.v4(),onHoldComplete:function(t){!function(e){var t=Object(i.a)(e,2),r=(t[0],t[1]);a(r)}(e)},onClickComplete:function(a){!function(e){var a=Object(i.a)(e,2),r=a[0],n=a[1];t.state.selected&&r==t.state.selected&&(r=null,n=null),t.setState(Object.assign(t.state,{selected:r,character:n}))}(e)}},s.a.createElement(Ke,{character:e,key:r,selected:t.state.selected&&t.state.selected===o}))})))})));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=t.state.character),t.props.dispatch({type:"CHARACTER_NEW",payload:Object.assign({},e,{name:e.name,profile:e.name})})};return s.a.createElement("div",{className:"profileSelector"},s.a.createElement("h4",null,"Select a character or Create new"),e,s.a.createElement(P.b,{onClick:function(e){return a()},bsStyle:"primary",block:!0,disabled:!this.state.selected},"New from template"))}}]),t}(s.a.Component);Be=Object(p.b)()(Be);var Ke=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=Object(i.a)(this.props.character,2),t=e[0],a=e[1];return s.a.createElement("dl",{className:"miniCard "+(this.props.selected?"selected":""),onClick:this.props.onClick},s.a.createElement("dt",null,t," ",a.ratings?"(".concat(a.ratings,")"):""," ",a.__card?"":s.a.createElement(P.j,null,"Incomplete")),s.a.createElement("dd",null,s.a.createElement(ne,{md:a.description})))}}]),t}(s.a.Component),Xe=function(e){return console.log.bind(console,e)},$e=Pe([s.a.createElement(Fe,null)]),Je=Pe([s.a.createElement(Ge,null)]),Ye=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(H.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(K.a)(Object(K.a)(a))),a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"handleChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e,t=(e=this.props.characterId,this.props.cast.find(function(t){return t.id==e}));if(!t)return s.a.createElement("div",{className:"paper characterEditor"},s.a.createElement("div",{style:{margin:20}},s.a.createElement(Be,null)));var r,n,i,o,c,l=t.__card.toLowerCase(),p=a(702)("./"+l+"-uischema.json"),d=(r=p,n=Object(h.a)((o=p["ui:order"],c=Object.keys(t),c.filter(function(e){return o.indexOf(e)<0}))).concat(["__card","__version","id"]),i={"ui:widget":"hidden"},Object.assign(r,n.reduce(function(e,t){return e[t]=i,e},{}))),u=a(256)("./"+l+"-schema.json"),m={toolTextareaWidget:Me,pictureWidget:Ie},f={collapseObjectField:qe,sfxArrayField:$e,sqArrayField:Je};return s.a.createElement("div",{className:"paper characterEditor"},s.a.createElement("div",{style:{margin:20}},s.a.createElement(_e.a,{schema:u,onChange:this.handleChange,onSubmit:Xe("submitted"),onError:Xe("errors"),uiSchema:d,liveValidate:!0,formData:t,widgets:m,fields:f},s.a.createElement(P.b,{bsStyle:"danger",block:!0,type:"submit"},"Validate"))))}}]),t}(s.a.Component),Qe=a(331),Ze=(a(738),function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(Qe.a,{split:"vertical",minSize:300,defaultSize:parseInt(localStorage.getItem("splitPos")||300,10),onChange:function(e){return localStorage.setItem("splitPos",e)}},s.a.createElement("div",{className:"sidebar ui "},s.a.createElement(ie,null),s.a.createElement(oe,null),s.a.createElement(Ye,{characterId:this.props.currentCharacter,cast:this.props.cast,onChange:this.props.updateCharacter}),s.a.createElement(se,null)),s.a.createElement("div",{className:"canvas",onClick:function(t){return e.props.deselectCharacter(t)}},this.props.cast.map(function(e,t){return s.a.createElement(be,{character:e,key:t})}))))}}]),t}(o.Component)),et=Ze=Object(p.b)(function(e){return e},function(e){return{deselectCharacter:function(){e({type:"CHARACTER_SELECT",payload:{id:null}})},updateCharacter:function(t){e({type:"CHARACTER_UPDATE",payload:t.formData})}}})(Ze),tt=(a(740),a(742),a(195)),at=a.n(tt),rt=a(196),nt=a.n(rt),it=a(332),ot=a.n(it),st=a(333),ct=a.n(st);a.d(t,"LOCALSTORAGE_KEY",function(){return lt}),a.d(t,"locale",function(){return pt}),a.d(t,"T",function(){return dt}),a.d(t,"zip",function(){return ut}),a.d(t,"store",function(){return gt});var lt="Studios7TV",pt=new ct.a({gb_EN:"gb_EN"});pt.load(pt.gb_EN,a(744)),pt.set(pt.gb_EN);var dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pt.get(e,t)},ut=function(e){return e.reduce(function(e,t){var a=Object(i.a)(t,2),o=a[0],s=a[1];return Object(n.a)({},e,Object(r.a)({},o,s))},{})},mt=Object(m.compose)(at()())(T),ht=Object(m.compose)(ot()("cast","currentCharacter"))(nt()(window.localStorage)),ft=Object(m.compose)(Object(m.applyMiddleware)(u.a),C()(ht,lt)),gt=Object(m.createStore)(mt,ft);l.a.render(s.a.createElement(p.a,{store:gt},s.a.createElement(et,null)),document.getElementById("root"))}},[[334,2,1]]]);
//# sourceMappingURL=main.eee106b8.chunk.js.map