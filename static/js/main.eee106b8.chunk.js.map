{"version":3,"sources":["data sync /^/.//.*/-schema/.json$","lib/simple-locale.js","data sync /^/.//.*/-blank/.json$","HELP.md","data/sfx.yaml","data/sfx-sq.yaml","data/casts sync /^/.//.*$","data/casts/Core_Gadgets.yaml","data/casts/Core_Heroic_Extras.yaml","data/casts/Core_Heroic_Star_Co-Star.yaml","data/casts/Core_Neutral_Extras.yaml","data/casts/Core_Vehicles.yaml","data/casts/Core_Villainous_Extras.yaml","data/casts/Core_Villainous_Star_Co-Star.yaml","data sync /^/.//.*/-uischema/.json$","reducers/index.js","lib/helpers.js","components/Ui.js","components/Card.js","components/FormWidgets.js","components/CharacterWidgets.js","components/CharacterEditor.js","components/App.js","index.js"],"names":["map","./gadget-schema.json","./model-schema.json","./unit-schema.json","./vehicle-schema.json","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","simpleLocale","locales","key","hasOwnProperty","this","currentLocale","localeString","prototype","hasLocale","loc","load","countryCode","lObj","set","newLocale","get","bindStr","pos","splittedKey","split","i","length","word","replace","RegExp","./gadget-blank.json","./model-blank.json","./unit-blank.json","./vehicle-blank.json","p","./Core_Gadgets.yaml","./Core_Heroic_Extras.yaml","./Core_Heroic_Star_Co-Star.yaml","./Core_Neutral_Extras.yaml","./Core_Vehicles.yaml","./Core_Villainous_Extras.yaml","./Core_Villainous_Star_Co-Star.yaml","./gadget-uischema.json","./model-uischema.json","./unit-uischema.json","./vehicle-uischema.json","ajv","Ajv","addMetaSchema","require","loadYamlFile","file","asSingleFile","arguments","undefined","Promise","accept","reject","reader","FileReader","onload","data","Yaml","safeLoad","result","objs","safeLoadAll","obj","push","console","error","readAsText","saveYamlFile","docs","options","skipInvalid","Array","isArray","doc","safeDump","cleanDeep","emptyArrays","emptyObjects","emptyStrings","nullValues","join","INITIALSTATE","currentCharacter","cast","reducer","state","action","assign","TEMPLATE_CHARACTER_NEW","payload","templatename","__card","toLowerCase","getTemplateCharacterNew","type","actionTypes","INIT","validateState","uid","uuid","v4","toConsumableArray","concat","name","Math","round","random","first","middle","last","__version","version","slice","filter","item","value","char","sendAsFile","filename","mimetype","blob","Blob","tempLink","document","createElement","href","window","URL","createObjectURL","setAttribute","style","display","body","appendChild","click","remove","parseDataUri","groups","exec","mime","forEach","_item$split","_item$split2","slicedToArray","dataURI","byteString","atob","mimeString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","dataURItoBlob","sendAsImage","domId","opts","el","getElementById","nodes","selector","querySelectorAll","node","index","getAsImage","then","dataUrl","link","download","html2canvas","canvas","toDataURL","FileField","_React$Component","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_domclick","ce","_this2","preventDefault","modifiers","ctrl","ctrlKey","shift","shiftKey","meta","metaKey","input","__changeHandler","removeEventListener","onChange","addEventListener","bind","assertThisInitialized","inherits","createClass","clicker","_this3","react_default","a","ref","children","multiple","React","Component","dottedLine","xFrom","yFrom","xTo","yTo","segmentLength","abs","b","c","sqrt","pow","fractions","adjustedSegmentLength","floor","ceil","deltaX","deltaY","curX","curY","line","Marked","_ref","_ref$md","md","_ref$Component","_ref$Options","Options","rest","objectWithoutProperties","__html","marked","inline","objectSpread","dangerouslySetInnerHTML","Toolbar","_React$Component2","_getPrototypeOf2","_this5","_len","args","_key","apply","status","setState","forceUpdate","_this6","className","textAlign","marginBottom","marginTop","margin","react_bootstrap_es","bsStyle","bsSize","title","eventKey","onClick","dispatch","Ui_FileField","files","target","characterLoader","Queue","Infinity","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","add","catch","err","return","loadCharacter","block","glyph","characters","slug","scale","fileName","warn","jsPDF","orientation","format","unit","promises","rs","rj","img","dataURL","positions","x","y","CARD_WIDTH","CARD_HEIGHT","all","items","chunk","page","addPage","setDrawColor","setLineWidth","j","addImage","MARGIN_X","MARGIN_Y","save","downloadCharactersAsPDF","confirm","connect","Help","_React$Component3","_getPrototypeOf3","_this7","_len2","_key2","open","_this8","in","Rescue","_React$Component4","_this9","dropup","Date","JSON","stringify","StatBlock","stats","_ref$className","entries","entry","_entry","Pic","_ref2","photo","backgroundImage","Weapons","_ref3","attack","range","strike","Ui_Marked","effects","Ratings","_ref4","Health","_ref5","health","Number","fill","v","Trait","_ref6","object","full","cost","level","description","stars","Description","_ref7","text","Title","_ref8","_ref8$name","_ref8$alignment","alignment","_ref8$type","Tags","_ref9","values","_ref9$additional","additional","src","CardFront","card","character","theme","__theme","renderVehicle","renderUnit","renderGadget","renderModel","_this$props$character","_this$props$character2","_this$props$character3","ratings","_this$props$character4","_this$props$character5","weapons","__custom","__tint","tint","__genres","genres","tags","sfx","special_effects","_this$props$character6","_this$props$character7","capacity","_this$props$character8","armour","_this$props$character9","defence","Card_Title","Card_Pic","Card_StatBlock","Card_Weapons","Card_Description","s","Card_Trait","Card_Ratings","Card_Health","Card_Tags","_this$props$character10","_this$props$character11","fight","_this$props$character12","shoot","_this$props$character13","_this$props$character14","mind","_this$props$character15","_this$props$character16","spirit","_this$props$character17","role","qlty","star_quality","T","_this$props$character18","notes","CardBack","_this$props$character20","_this$props$character21","_this$props$character22","_this$props$character23","_this$props$character24","_this$props$character25","_this$props$character26","_this$props$character28","models","_this$props$character29","m","qty","model","_this$props$character30","_this$props$character31","_this$props$character32","play","weapon","zip","_i","String","Card","stopPropagation","Card_CardFront","Card_CardBack","position","right","textToolsWidgets","ToolInsertText","widget","insert","txtarea","scrollPos","scrollTop","strPos","br","selectionStart","selection","focus","createRange","moveStart","front","substring","back","ieRange","moveEnd","select","selectionEnd","insertAtCaret","parseTextTools","textTools","cmp","Fcmp","ToolTextareaWidget","TextareaWidget_default","PictureWidget","errorSchema","crop","aspect","uploadHandler","cropHandler","updateHandler","str","p1","encodeURIComponent","pixelCrop","width","height","ctx","getContext","image","Image","drawImage","_parseDataUri","fileprops","react_image_crop_default","disabled","decodeURIComponent","FileWidget_default","ToolArrayField","ArrayField_default","cloneElement","CollapseObjectField","uiSchema","formData","ObjectField_default","parseTrait","label","trait","SFXSelect","handleClick","validate","fetch","response","txt","componentClass","placeholder","defaultValue","parse","group","sfx_entry","_sfx_entry","Button","SQSelect","_this4","_entry2","_sfx_entry2","PROFILES","reduce","k","defineProperty","readContext","ProfileSelector","casting","selected","path","_entry3","chr","header","_item3","build_default","onHoldComplete","_item2","fromTemplate","create","onClickComplete","_item","CharacterWidgets_MiniCard","profile","MiniCard","log","SfxArrayField","CharacterWidgets_SFXSelect","SQArrayField","CharacterWidgets_SQSelect","CharacterEditor","handleChange","characterId","find","CharacterWidgets_ProfileSelector","dict","arr1","arr2","sch","indexOf","ui:widget","schema","widgets","toolTextareaWidget","pictureWidget","fields","collapseObjectField","sfxArrayField","sqArrayField","react_jsonschema_form_lib_default","onSubmit","onError","liveValidate","App","index_esm","minSize","defaultSize","parseInt","localStorage","getItem","size","setItem","Ui_Toolbar","Ui_Help","CharacterEditor_CharacterEditor","updateCharacter","Ui_Rescue","deselectCharacter","Card_Card","LOCALSTORAGE_KEY","locale","Locale","gb_EN","params","arr","storeReducer","compose","mergePersistedState","storage","adapter","enhancer","applyMiddleware","logger","persistState","store","createStore","ReactDOM","render","es","components_App"],"mappings":"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","file":"static/js/main.eee106b8.chunk.js","sourcesContent":["var map = {\n\t\"./gadget-schema.json\": 506,\n\t\"./model-schema.json\": 507,\n\t\"./unit-schema.json\": 508,\n\t\"./vehicle-schema.json\": 509\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 256;","\nfunction simpleLocale(locales) {\n\tif(typeof locales !== 'object') \n\t\tthrow new Error('Locale object must be specified.');\n\n\tfor(var key in locales) {\n\t\tif(locales.hasOwnProperty(key)) {\n\t\t\tthis[key] = locales[key];\n\t\t}\n\t}\n\n\tthis.currentLocale = '';\n\tthis.localeString = {};\n}\nsimpleLocale.prototype.hasLocale = function(loc) {\n\treturn loc in this;\n};\nsimpleLocale.prototype.load = function(countryCode, lObj) {\n\tif(!this.hasLocale(countryCode)) {\n\t\tthrow new Error('Unknown locale ' + countryCode);\n\t}\n\n\tthis.localeString[countryCode] = lObj;\n};\nsimpleLocale.prototype.set = function(newLocale) {\n\tif(!this.hasLocale(newLocale)) {\n\t\tthrow new Error('Unknown locale ' + newLocale);\n\t}\n\n\tthis.currentLocale = newLocale;\n};\nsimpleLocale.prototype.get = function(key, bindStr) {\n\tlet pos = this.localeString[this.currentLocale];\n\tlet splittedKey = key.split(\".\");\n\n\tif(!pos) {\n\t\tthrow new Error('Locale is not selected.');\n\t}\n\n\tfor(let i = 0; i < splittedKey.length; i++ ) {\n\t\tpos = pos[splittedKey[i]];\n\n\t\t// if no string found, just returns key\n\t\tif(!pos) {\n\t\t\treturn key;\n\t\t}\n\t}\n\n\t// let's match template strings.\n\tfor(var word in bindStr) {\n\t\tpos = pos.replace(new RegExp('<%=\\\\s{0,}' + word + '\\\\s{0,}%>', \"g\"), bindStr[word]);\n\t}\n\n\treturn pos;\n};\n\nmodule.exports = simpleLocale;","var map = {\n\t\"./gadget-blank.json\": 502,\n\t\"./model-blank.json\": 503,\n\t\"./unit-blank.json\": 504,\n\t\"./vehicle-blank.json\": 505\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 501;","module.exports = \"#### 7TV2 Casting Agency - worker's manual\\n\\n\\nWelcome to our top-notch Casting Agency. We are devoted to find the best actors to our productions.\\nIn order to do so, please follow this advices:\\n\\n- Contract new assets with [NEW]. Be sure you choose the recommended asset, for a single Actor (Character), Contraptions (Vehicles), or Figuring groups (Unit)\\n- You can recall former assets on our filing cabinets using with [OPEN] the Yet Another Actor Log protocol.\\n- In order to file their CV once they have finished their job, use [DOWNLOAD YAML]. You can also take photos of them [DOWNLOAD IMAGES]\\n- To dismiss all the assets you can use [RESET ALL]\\n\\n\\n**You can browse our profile books for easy use of assets. Please be aware former departament was fired because they have not filled properly this section. Any inquiries of this kind will be accepted through the attached form. Contributions are welcomed. Just build the intended profile and send via Vacuum Tube to our <a href=\\\"https://github.com/jorgerobles/7tv2/issues\\\" target=\\\"_blank\\\">GITHUB</a>.**\\n\\nSome hints for proper usage:\\n\\n- Profile photos should be cut SQUARE to fit on their cards.\\n- You can embellish your text using the <a href=\\\"https://guides.github.com/features/mastering-markdown/\\\" target=\\\"_blank\\\">MarkDown style guide</a>\\n\\n---\\nTBD. This file could be contributed by <a href=\\\"https://github.com/jorgerobles/7tv2/blob/master/src/HELP.md\\\" target=\\\"_blank\\\">volunteering</a>. Don't be lazy.\\n___\\n\"","module.exports = __webpack_public_path__ + \"static/media/sfx.6a2dd9ee.yaml\";","module.exports = __webpack_public_path__ + \"static/media/sfx-sq.423a1cce.yaml\";","var map = {\n\t\"./Core_Gadgets.yaml\": 695,\n\t\"./Core_Heroic_Extras.yaml\": 696,\n\t\"./Core_Heroic_Star_Co-Star.yaml\": 697,\n\t\"./Core_Neutral_Extras.yaml\": 698,\n\t\"./Core_Vehicles.yaml\": 699,\n\t\"./Core_Villainous_Extras.yaml\": 700,\n\t\"./Core_Villainous_Star_Co-Star.yaml\": 701\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 694;","module.exports = __webpack_public_path__ + \"static/media/Core_Gadgets.f5f7c24c.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Heroic_Extras.dd847c38.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Heroic_Star_Co-Star.0b8fed6e.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Neutral_Extras.5a9919fa.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Vehicles.14625b48.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Villainous_Extras.8330d9bc.yaml\";","module.exports = __webpack_public_path__ + \"static/media/Core_Villainous_Star_Co-Star.f9620acb.yaml\";","var map = {\n\t\"./gadget-uischema.json\": 703,\n\t\"./model-uischema.json\": 704,\n\t\"./unit-uischema.json\": 705,\n\t\"./vehicle-uischema.json\": 706\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 702;","import {version} from '../../package.json';\nimport uuid from 'uuid';\nimport Yaml from 'js-yaml';\nimport cleanDeep from 'clean-deep';\nimport { first, middle, last} from 'random-name'\nimport {actionTypes} from 'redux-localstorage'\nimport Ajv from 'ajv';\nconst ajv = new Ajv();\n      ajv.addMetaSchema(require('ajv/lib/refs/json-schema-draft-04.json'));\n\nconst randomName=()=>{\n    return (Math.round(Math.random())?first():middle())+\" \"+last();\n}\n\nexport const loadYamlFile = (file,asSingleFile=false) => {\n    return () => {\n        return new Promise((accept, reject) => {\n            let reader = new FileReader();\n            reader.onload = (data) => {\n                try {\n                    if (asSingleFile){\n                        accept(Yaml.safeLoad(reader.result))\n                    } else {\n                        let objs = [];\n                        Yaml.safeLoadAll(reader.result, (obj) => { objs.push(obj) });\n                        accept(objs)\n                    }\n                } catch (e) {\n                    console.error(e)\n                    reject(e)\n                }\n            }\n            reader.readAsText(file);\n        })\n    }\n}\n\nexport const saveYamlFile=(docs,asSingleFile=false, options={skipInvalid:true})=>{\n    if (asSingleFile && Array.isArray(docs)){\n        return docs.map((doc)=>{\n            try {\n                return Yaml.safeDump(cleanDeep(doc,{emptyArrays:false, emptyObjects:false, emptyStrings:false, nullValues:false}), options)\n            } catch(e) {\n                console.error(doc)\n            }\n        }).join(\"\\n---\\n\")\n        \n    } else {\n        return Yaml.safeDump(docs, options);\n    }\n}\n\nconst INITIALSTATE = {\n    currentCharacter:null,\n    cast: []\n}\n\nconst getTemplateCharacterNew=(payload, templatename='model')=>{\n    if (payload && payload.__card)\n        templatename=payload.__card;\n    return require('../data/'+templatename.toLowerCase()+'-blank.json')\n}\n\nconst reducer = (state = INITIALSTATE, action) => {\n    state = Object.assign( {}, state)\n    const TEMPLATE_CHARACTER_NEW = getTemplateCharacterNew(action.payload)\n    switch (action.type) {\n        case actionTypes.INIT:\n            return validateState(state);\n            break;\n        case \"CHARACTER_NEW\":\n            let uid=uuid.v4();\n            state.cast = [...state.cast, Object.assign({},TEMPLATE_CHARACTER_NEW, { id: uid, name: randomName(), __version: version }, action.payload || {})];\n            state.currentCharacter=uid\n            break;\n        case \"CHARACTER_LOAD\":\n            state.cast = [...state.cast, Object.assign({},TEMPLATE_CHARACTER_NEW,action.payload, { id: uuid.v4() })];\n            break;\n        case \"CHARACTER_REMOVE\":\n            state.cast = state.cast.slice().filter((item) => { return item.id !== action.payload.id; })\n            break;\n        case \"CHARACTER_SELECT\":\n            state.currentCharacter=action.payload.id;\n            break;\n        case \"CHARACTER_UPDATE\":\n            state.cast = state.cast.slice().map((item)=>{\n                if (item.id!==action.payload.id)\n                    return item;\n                return action.payload;\n            })\n            break;\n        case \"CHARACTER_APPEND_TRAIT\":\n            if (!action.payload.value) return;\n            state.cast = state.cast.slice().map((item)=>{\n                if (item.id!==action.payload.id)\n                    return item;\n                let char=Object.assign({},item)\n                    char[action.payload.key].push(action.payload.value)\n\n                return char;\n            })\n            break;\n           \n        case \"CAST_CLEAR\":\n            state.cast=[]\n        break;\n        default:\n            return state;\n    }\n    return state;\n}\n\nexport default reducer;\n\n\nconst validateState=(state)=>{\n    return state;\n    state.cast= state.cast.slice().map((item)=>{\n        const schema = require('../data/'+item.__card.toLowerCase()+'-schema.json');\n        let validate = ajv.compile(schema);\n        if (validate(item)){\n            return item\n        } else {\n            alert(validate.errors)\n            return item;\n            \n        };\n    })\n    return state;\n}","//import domtoimage from 'dom-to-image';\nimport html2canvas from 'html2canvas';\n\nexport function sendAsFile(filename, data, mimetype) {\n    \n    let blob = new Blob([data], {type: mimetype});\n\n    let tempLink = document.createElement('a');\n        tempLink.href = window.URL.createObjectURL(blob);\n        tempLink.setAttribute('download', filename);\n        tempLink.style.display='none'\n        document.body.appendChild(tempLink);\n        tempLink.click();\n        tempLink.remove();\n}\n\nexport function parseDataUri(data) {\n    if (!data) \n        return {};\n    let rex=/data:([^;]+);(?:([^;]+)?;)+(base64,.*$)/gi\n    let result={}\n    let groups= rex.exec(data);\n        if (groups){\n            result.mime=groups[1]\n        }\n        if (groups.length>2) {\n            groups.slice(2,groups.length-1).forEach((item)=>{\n                let [key,value]=item.split(\"=\")\n                result[key]=value\n            })\n        } \n        \n        result.data=dataURItoBlob(data);\n    \n    return result;\n}\n\nexport function dataURItoBlob(dataURI) {\n    // convert base64 to raw binary data held in a string\n    // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n    var byteString = atob(dataURI.split(',')[1]);\n  \n    // separate out the mime component\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n  \n    // write the bytes of the string to an ArrayBuffer\n    var ab = new ArrayBuffer(byteString.length);\n  \n    // create a view into the buffer\n    var ia = new Uint8Array(ab);\n  \n    // set the bytes of the buffer to the correct values\n    for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n  \n    // write the ArrayBuffer to a blob, and you're done\n    var blob = new Blob([ab], {type: mimeString});\n    return blob;\n  \n  }\n\n  export function sendAsImage(domId, filename,opts={})\n  {\n    let el=document.getElementById(domId)\n    let nodes= (opts.selector) ? el.querySelectorAll(opts.selector) : [el];\n\n    \n    nodes.forEach(function(node,index){\n        index = (nodes.length>1) ? index:''\n        getAsImage(node,opts)\n            .then(function (dataUrl) {\n                var link = document.createElement('a');\n                    link.download = filename.replace('{n}',index) || (\"7tv_cast-\"+domId+\".png\");\n                    link.style='display:none'\n                    link.href = dataUrl;\n                    document.body.appendChild(link)\n                    link.click();\n                    link.remove();\n\n            }); \n    })\n  }\n\n  export function getAsImage(node, opts={}){\n        /*if (opts.scale){\n            let rect=node.getBoundingClientRect();\n                opts=Object.assign(opts,{\n                style: {\n                    transform:`scale(${opts.scale})`,\n                    transformOrigin:\"left top\",\n                },\n                width: rect.width*opts.scale,\n                height: rect.height*opts.scale\n            }) \n        }\n        return domtoimage.toPng(node,opts);\n        */\n        \n        return new Promise((resolve)=>{\n            html2canvas(node,opts).then(function(canvas) {\n                resolve(canvas.toDataURL(\"image/png\"));\n            })\n        });\n  }\n\nexport function insertAtCaret(txtarea, text) {\n\n    if (!txtarea) { return; }\n\n    var scrollPos = txtarea.scrollTop;\n    var strPos = 0;\n    var br = ((txtarea.selectionStart || txtarea.selectionStart === '0') ?\n        \"ff\" : (document.selection ? \"ie\" : false ) );\n    if (br === \"ie\") {\n        txtarea.focus();\n        var range = document.selection.createRange();\n        range.moveStart ('character', -txtarea.value.length);\n        strPos = range.text.length;\n    } else if (br === \"ff\") {\n        strPos = txtarea.selectionStart;\n    }\n\n    var front = (txtarea.value).substring(0, strPos);\n    var back = (txtarea.value).substring(strPos, txtarea.value.length);\n    txtarea.value = front + text + back;\n    strPos += text.length;\n    if (br === \"ie\") {\n        txtarea.focus();\n        var ieRange = document.selection.createRange();\n        ieRange.moveStart ('character', -txtarea.value.length);\n        ieRange.moveStart ('character', strPos);\n        ieRange.moveEnd ('character', 0);\n        ieRange.select();\n    } else if (br === \"ff\") {\n        txtarea.selectionStart = strPos;\n        txtarea.selectionEnd = strPos;\n        txtarea.focus();\n    }\n\n    txtarea.scrollTop = scrollPos;\n}\n\nexport const readContext=(ctx)=>{\n    let keys = ctx.keys();\n    let values = keys.map(ctx);\n    return keys.reduce((obj, k, i) => ({...obj, [k]: values[i] }), {})\n}","/* eslint-disable */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport Queue from 'promise-queue';\nimport ReactDOM from 'react-dom';\nimport marked from 'marked'\nimport { loadYamlFile, saveYamlFile } from '../reducers/index';\nimport { SplitButton, MenuItem, Button, ButtonToolbar, Glyphicon, DropdownButton, Collapse} from 'react-bootstrap';\nimport { sendAsFile, sendAsImage, getAsImage } from '../lib/helpers'\nimport slug from 'slug';\nimport jsPDF from 'jspdf';\nimport chunk from 'chunk';\nimport { resolve } from 'path';\n\nexport class FileField extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this._domclick = function (ce)  {\n            ce.preventDefault();\n            let modifiers = { ctrl: ce.ctrlKey, shift: ce.shiftKey, meta: ce.metaKey };\n            if (this.input.__changeHandler) this.input.removeEventListener('change', this.input.__changeHandler)\n            this.input.value = \"\";\n            this.input.__changeHandler = (e) => {\n                e.preventDefault();\n                this.props.onChange(e, modifiers)\n            }\n            this.input.addEventListener('change', this.input.__changeHandler)\n            this.input.click();\n        }.bind(this)\n    }\n\n    componentDidMount() {\n        this.clicker.addEventListener('click', this._domclick)\n    }\n\n    componentWillUnMount() {\n        this.clicker.removeEventListener('click', this._domclick)\n    }\n\n    render() {\n        return <span style={this.props.style} >\n            <span ref={(input) => this.clicker = input}>{this.props.children}</span><input type=\"file\" ref={(input) => { this.input = input }} multiple style={{ display: \"none\" }} accept={this.props.accept} />\n        </span>\n    }\n}\n\nexport const loadCharacter = (e, action) => {\n    let self = this\n    let files = e.target.files;\n    if (!window.characterLoader)\n        window.characterLoader = new Queue(1, Infinity)\n\n    for (let file of files) {\n        window.characterLoader.add(loadYamlFile(file)).then((data) => {\n            data.forEach((obj, i) => {\n                action(obj, i)\n            }, this);\n\n        }).catch(console.error)\n    }\n}\n\nexport const downloadCharacters=(characters)=>{\n    sendAsFile(\"7TV_cast.yaml\",saveYamlFile(characters,true),'application/x-yaml')\n}\n\nexport const downloadSingleCharacter=(character)=>{\n    sendAsFile(\"7TV_cast-\"+slug(character.name||character.id)+\".yaml\",saveYamlFile(character,false),'application/x-yaml');\n}\n\nexport const downloadCharactersAsImages=(cast)=>{\n    cast.forEach(item=>{\n        sendAsImage(item.id,\"7TV_cast-\"+slug(item.name||item.id)+\".png\",{scale:2});\n    })\n}\n\nconst dottedLine=function(doc, xFrom, yFrom, xTo, yTo, segmentLength)\n{\n    // Calculate line length (c)\n    var a = Math.abs(xTo - xFrom);\n    var b = Math.abs(yTo - yFrom);\n    var c = Math.sqrt(Math.pow(a,2) + Math.pow(b,2));\n\n    // Make sure we have an odd number of line segments (drawn or blank)\n    // to fit it nicely\n    var fractions = c / segmentLength;\n    var adjustedSegmentLength = (Math.floor(fractions) % 2 === 0) ? (c / Math.ceil(fractions)) : (c / Math.floor(fractions));\n\n    // Calculate x, y deltas per segment\n    var deltaX = adjustedSegmentLength * (a / c);\n    var deltaY = adjustedSegmentLength * (b / c);\n\n    var curX = xFrom, curY = yFrom;\n    while (curX <= xTo && curY <= yTo)\n    {\n        doc.line(curX, curY, curX + deltaX, curY + deltaY);\n        curX += 2*deltaX;\n        curY += 2*deltaY;\n    }\n}\n\nconst getImageDimensions= (file) => {\n    return new Promise (function (resolved, rejected) {\n      var i = new Image()\n      i.onload = function(){\n        resolved({w: i.width, h: i.height})\n      };\n      i.src = file\n    })\n  }\n\nexport const downloadCharactersAsPDF=(cast,fileName='7TVcast',status=console.warn)=>{\n\n    const PAGE_WIDTH=10.55;\n    const PAGE_HEIGHT=7.55;\n    const MARGIN_X=0.3;\n    const MARGIN_Y=0.3;\n    const CARD_WIDTH=5;\n    const CARD_HEIGHT=3.5;\n    const CARD_OFFSETX=0;\n    const CARD_OFFSETY=-0.03\n\n    let doc = new jsPDF({orientation: 'landscape',format:[PAGE_WIDTH,PAGE_HEIGHT],unit:'in'});\n    var i=0;\n    let promises=cast.map((item)=>{\n        return new Promise((rs,rj)=>{\n            getAsImage(document.getElementById(item.id),{scale:2}).then((img)=>{\n                status(\"Processing image \"+(++i)+\"/\"+cast.length);\n                rs({dataURL: img,type:item.__card})\n            });\n    })});\n    const positions=[{x:0,y:0},{x:CARD_WIDTH+CARD_OFFSETX,y:0},{x:0,y:CARD_HEIGHT+CARD_OFFSETY},{x:CARD_WIDTH+CARD_OFFSETX,y:CARD_HEIGHT+CARD_OFFSETY}];\n    \n\n    Promise.all(promises).then((items)=>{\n        chunk(items,positions.length).forEach((c,page)=>{\n            status(\"Generating page \"+(page+1))\n            if (page) doc.addPage();\n            doc.setDrawColor(255,255,255);\n            doc.setLineWidth(0.01)\n            c.forEach((item,j)=>{\n                let {dataURL,type} = item;\n                doc.addImage(dataURL,'JPEG',MARGIN_X+positions[j].x,MARGIN_Y+positions[j].y,CARD_WIDTH,type.toLowerCase()!='gadget'?CARD_HEIGHT:CARD_HEIGHT/2)\n            })\n            dottedLine(doc,MARGIN_X+CARD_WIDTH/2,0,MARGIN_X+CARD_WIDTH/2,PAGE_HEIGHT,0.05)\n            dottedLine(doc,MARGIN_X+CARD_WIDTH,0,MARGIN_X+CARD_WIDTH,PAGE_HEIGHT,0.01)\n            dottedLine(doc,MARGIN_X+CARD_WIDTH/2*3,0,MARGIN_X+CARD_WIDTH/2*3,PAGE_HEIGHT,0.05)\n            dottedLine(doc,0,MARGIN_Y+CARD_HEIGHT+CARD_OFFSETY,PAGE_WIDTH,MARGIN_Y+CARD_HEIGHT+CARD_OFFSETY,0.01)\n        })\n        doc.save(fileName+'.pdf')\n        status(null)\n    })\n\n}\n\nexport const Marked = ({md=\"\", Component=\"span\", Options={},...rest})=>{\n    let __html=marked(md,Options);\n        if (Options.inline) __html=__html.replace(/^<p>/gi,'').replace(/<\\/p>[\\r\\n]*$/gi,'').replace(/[\\r\\n]/gi,'')\n    return <Component {...{...rest}} dangerouslySetInnerHTML={{__html}}/>\n}\n\n\nexport class Toolbar extends React.Component {\n    constructor(...args) {\n        super(...args);\n        this.state = {\n          status: null,\n        };\n    }\n\n    status(status){\n        this.setState({status: status? \"(\"+status+\")\":''}); \n        this.forceUpdate();\n    }\n\n    render(){\n\n        return <div className=\"ui paper editorToolBar\">\n                <h2 className=\"din\" style={{textAlign:\"center\", marginBottom:0}}>7TV Studios</h2>\n                <h5 className=\"din\" style={{textAlign:\"center\", marginTop:0}}> casting agency</h5>\n               <div style={{margin:5}}>\n               <DropdownButton bsStyle=\"primary\" bsSize=\"small\" title=\"New\"  id=\"new_model\" >\n                <MenuItem eventKey=\"1\" onClick={e=>this.props.dispatch({ type: 'CHARACTER_NEW' })}>Character</MenuItem>\n                <MenuItem eventKey=\"2\" onClick={e=>this.props.dispatch({ type: 'CHARACTER_NEW', payload:{ __card:'vehicle'} })}>Vehicle</MenuItem>\n                <MenuItem eventKey=\"3\" onClick={e=>this.props.dispatch({ type: 'CHARACTER_NEW', payload:{ __card:'unit'} })}>Unit</MenuItem>\n                <hr/>\n                <MenuItem eventKey=\"4\" onClick={e=>this.props.dispatch({ type: 'CHARACTER_NEW', payload:{ __card:'gadget'} })}>Gadget</MenuItem>\n               </DropdownButton>\n              \n                \n                <FileField style={{display:\"block\",margin: \"5px 0 5px 0\"}} accept=\".yaml\" onChange={e => loadCharacter(e, (file) => this.props.dispatch({ type: 'CHARACTER_LOAD', payload: file }))}><Button block  bsSize=\"small\" bsStyle=\"success\"><Glyphicon glyph=\"upload\" /> Load .Yaml</Button></FileField>\n                \n                <Button block bsSize=\"small\" onClick={e=>downloadCharacters(this.props.cast)} bsStyle=\"warning\"><Glyphicon glyph=\"download\" /> Download as .Yaml</Button>\n                <Button block bsSize=\"small\" onClick={e=>downloadCharactersAsImages(this.props.cast)} bsStyle=\"danger\"><Glyphicon glyph=\"download\" /> Download as Single Images</Button>\n                <Button block bsSize=\"small\" onClick={e=>downloadCharactersAsPDF(this.props.cast, null,this.status.bind(this))} bsStyle=\"danger\"><Glyphicon glyph=\"download\" /> Download as PDF {this.state.status}</Button>\n                <Button block bsSize=\"small\" onClick={e=> {if (confirm('Are you sure? This will wipe all the current cards! It is a bloody nuke!')) this.props.dispatch({type: 'CAST_CLEAR'});}} bsStyle=\"info\"><Glyphicon glyph=\"trash\" /> Reset all</Button>\n               </div>\n            \n        </div>\n    }\n}\n\nToolbar = connect(\n    (state)=>{return {cast: state.cast}}\n)(Toolbar);\n\n\nexport class Help extends React.Component {\n\n    constructor(...args) {\n        super(...args);\n        this.state = {\n          open: false,\n        };\n    }\n\n    render(){\n        return <div className=\"ui paper\" style={{margin:5}} >\n\n       \n        <Button block bsSize=\"small\" onClick={() => this.setState({ open: !this.state.open })} bsStyle=\"default\">Help</Button>\n        <Collapse in={this.state.open}><div className=\"help\" dangerouslySetInnerHTML={{__html:marked(require(\"!raw-loader!../HELP.md\"))}} ></div></Collapse>\n\n\n      </div>\n    }\n}\n\nconst downloadSnapshot=function(state)\n{\n    let d=new Date();\n    sendAsFile(\"7TV-debug-\"+d+\".json\",JSON.stringify(state),'application/json');\n}\n\n\nexport class Rescue extends React.Component {\n    render(){\n        return <div className=\"ui paper\"> <DropdownButton bsStyle=\"primary\" bsSize=\"xsmall\" title=\"Debug\"  id=\"new_model\" dropup >\n            <MenuItem eventKey=\"1\" onClick={e=>downloadSnapshot(this.props.state)}>Download data snapshot</MenuItem>\n       </DropdownButton></div>\n    }\n}\n\nRescue = connect((state)=>({state}))(Rescue);","/* eslint-disable */\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { connect } from 'react-redux'\nimport { DropdownButton, MenuItem} from 'react-bootstrap';\nimport slug from 'slug';\nimport '../assets/fonts/din-cond/style.css';\nimport '../assets/card.scss'\nimport { sendAsFile, sendAsImage } from '../lib/helpers'\n\nimport {T,zip} from '../index'\n\n\n\nimport { downloadSingleCharacter, Marked } from './Ui'\n\n\n\nconst stats = { fight: 10, shoot: 10, defence: 10, mind: 10, body: 10, spirit: 10 };\n\n\n\nconst StatBlock = ({ stats, className=\"\", ...rest }) => {\n    return <div className={\"stats \" + className}>\n        {Object.entries(stats).map((entry, i) => {\n            let [key, value] = entry;\n            return <div key={i} className={key}><div>{key}</div><div>{value}</div></div>\n        })}\n    </div>\n}\n\nconst Pic = ({ photo, ...rest }) => {\n    return <div className=\"pic\" style={{backgroundImage: \"url(\"+photo+\")\"}} />\n}\n\n\n\nconst Weapons = ({ items }) => {\n    return <table className=\"weapons\">\n        <thead><tr><td>Attack</td><td>Range</td><td>Strike</td><td>Effects</td></tr></thead>\n        <tbody>\n            {items.map((item, i) => {\n                return <tr className={slug(item.type||\"\").toLowerCase()} key={i}>\n                    <td className=\"attack\">{item.attack}</td><td className=\"range\">{item.range}</td><td className=\"strike\">+{item.strike}</td><Marked Component='td' className=\"effects\" md={item.effects} Options={{inline:true}}/>\n                </tr>\n            })}\n        </tbody>\n    </table>\n}\n\nconst Ratings = ({ value }) => {\n    return <div className=\"ratings\"><strong><val>{value}</val> RATINGS</strong></div>\n}\n\n\nconst Health = ({ value }) => {\n    let health = Array(Number(value)).fill(\"\").map((v, i) => { return <div key={i}></div> })\n    return <div className=\"health\">{health}</div>\n}\n\nconst Trait = ({ object, full }) => {\n    let { cost, name, level, description } = object\n    let stars = cost ? Array(cost).fill(\"\").map((v, i) => { return <i key={i} className=\"icon-star_icon\"></i> }) : undefined\n    if (full) {\n        return <p><strong><Marked md={name} Options={{inline:true}}/>{level ? ` (${level})` : ''}{stars ? \" \" : \"\"}{stars}</strong><br /><Marked md={description}/></p>\n        \n    }\n    return <span>{name}{level ? ` (${level})` : ''}{stars ? \" \" : \"\"}{stars}</span>\n}\n\nconst Description = ({text}) =>{\n    return <p className=\"description\"><Marked md={text}/></p>\n}\n\nconst Title = ({ name=\"\", alignment=\"\", type=\"\" }) => {\n    return <div className=\"title\"><strong>{name}</strong> <i className={type.toLowerCase()} /> <span>{alignment} {type}</span></div>\n}\n\nconst Tags = ({ values, additional=[] }) => {\n    return <div className=\"tags\">{values.map((v, i) => { \n        return <i key={i} className={\"icon-\" + slug(v||\"\").toLowerCase()}></i> \n    })}{(additional||[]).map((v,i)=>{\n        return <img key={i+values.length} src={v} /> \n    })}</div>\n}\n\n\nexport class CardFront extends React.Component {\n    render() {\n        const card = (this.props.character.__card||\"Model\").toLowerCase()\n        const theme = (this.props.character.__theme||\"core\").toLowerCase()\n        switch(card) {\n            case \"vehicle\":\n                return this.renderVehicle(card,theme)\n            break;\n            case \"unit\":\n                return this.renderUnit(card,theme)\n            break;\n            case \"gadget\":\n                return this.renderGadget(card)\n            break;\n            default:\n                return this.renderModel(card,theme)\n            break;\n        }\n    }\n\n    renderVehicle(card,theme)\n    {\n        let { health=0, ratings=0,name, type, photo, description=\"\",weapons=[], __custom } = this.props.character\n        let __tint = __custom? __custom.tint : 0\n        let __genres= __custom ? __custom.genres: null\n        let tags = this.props.character.genres||[]\n        let sfx = this.props.character.special_effects || [];\n        let { capacity=0, armour=0, defence=0 } = this.props.character.stats;\n\n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"front\",].join(' ')}>\n        <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n        <div className=\"foreground\">\n            <Title name={name} type={type} />\n            <Pic photo={photo}/>\n            <StatBlock stats={{ capacity, armour, defence }} />\n            {weapons.length? <Weapons items={weapons} />:<Description text={description}/>}\n            <div className=\"sfxribbon\">\n                <dl><dt>Special effects</dt><dd>{sfx.map((s, i) => (<Trait key={i} object={s} />))}</dd></dl>\n            </div>\n            <Ratings value={ratings} />\n            <Health value={health} />\n            <Tags values={tags} additional={__genres} />\n        </div>\n        </div></div>\n    }\n\n    renderUnit(card,theme)\n    {\n        let {__custom} = this.props.character;\n        let __tint = __custom? __custom.tint : 0\n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"front\",].join(' ')}>\n        <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n        <div className=\"foreground\"></div>\n        </div></div>\n    }\n\n    renderModel(card,theme) {\n        let { fight = 0, shoot = 0, defence = 0, mind = 0, body = 0, spirit = 0 } = this.props.character.stats;\n        let { health, ratings, weapons, name, role, type, photo, __custom } = this.props.character\n        let __tint = __custom? __custom.tint : 0\n        let qlty = this.props.character.star_quality\n        let sfx = this.props.character.special_effects;\n        let tags = this.props.character.genres || []\n        let __genres= __custom ? __custom.genres: null\n        \n        \n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"front\",].join(' ')}>\n             <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n            <div className=\"foreground\" >\n            <Title name={name} alignment={T(role)} type={type} />\n            <Pic photo={photo}/>\n            <StatBlock className=\"left\" stats={{ fight, shoot, defence }} />\n            <StatBlock className=\"right\" stats={{ mind, body, spirit }} />\n            <div className=\"sfxribbon\">\n                <dl><dt>Star quality</dt><dd>{qlty.map((s, i) => (<Trait key={i} object={s} />))}</dd></dl>\n                <dl><dt>Special effects</dt><dd>{sfx.map((s, i) => (<Trait key={i} object={s} />))}</dd></dl>\n            </div>\n            <Weapons items={weapons} />\n            <Ratings value={ratings} />\n            <Health value={health} />\n            <Tags values={tags} additional={__genres} />\n            </div>\n        </div></div>\n    }\n\n    renderGadget(card){\n        let qlty = this.props.character.star_quality\n        let sfx = this.props.character.special_effects;\n        let { health, ratings, weapons, name, role, type, notes='',__custom } = this.props.character\n        let __tint = __custom? __custom.tint : 0\n        return <div className=\"cellophan\"><div className={\"card \"+card+\" front\"}>\n            <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n            <div className=\"foreground\" ></div>\n        </div></div>\n    }\n    \n}\n\nexport class CardBack extends React.Component {\n\n    render() {\n        const card = (this.props.character.__card||\"Model\").toLowerCase()\n        const theme = (this.props.character.__theme||\"core\").toLowerCase()\n        switch(card) {\n            case \"vehicle\":\n                return this.renderVehicle(card,theme)\n            break;\n            case \"unit\":\n                return this.renderUnit(card,theme)\n            break;\n            case \"gadget\":\n                return this.renderGadget(card)\n            break;\n            default:\n                return this.renderModel(card,theme)\n            break;\n        }\n    }\n    renderVehicle(card,theme){\n        let sfx = this.props.character.special_effects||[];\n        let {name, type=\"\",notes=\"\",weapons=[], description=\"\", __custom} = this.props.character\n        let __tint = __custom? __custom.tint : 0\n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"back\",].join(' ')}>\n        <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n        <div className=\"foreground\">\n            <Title name={name} type={type} />\n            <section>\n                {weapons.length && description? (<heading>Description</heading>):undefined}\n                {weapons.length && description? (<Description text={description}/>):undefined}\n                {sfx.length? (<heading>Special effects</heading>):undefined}\n                {sfx.map((v, i) => (<Trait key={i} object={v} full />))}\n                {notes? (<heading>Notes</heading>):undefined}\n                <p>{notes}</p>\n            </section>\n        </div>\n        </div></div>\n    }\n\n    renderUnit(card,theme) {\n        let {name, role, type=\"\",notes=\"\",models=[], description=\"\", photo, __custom} = this.props.character\n        let __tint = __custom? __custom.tint : 0\n        let tags = this.props.character.genres || []\n        let __genres= __custom ? __custom.genres: null\n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"back\",].join(' ')}>\n            <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n            <div className=\"foreground\">\n            <Title name={name} alignment={T(role)} type={type} />\n            <Tags values={tags} additional={__genres} />\n            <div className=\"content\">\n                <Description text={description}/>\n                {models.map((m,i)=>{return <dl className=\"model\" key={i}><dt>{m.qty}</dt><dd>{m.model}</dd></dl>})}\n                <Pic photo={photo}/>\n            </div>\n            </div>\n        </div></div>\n    }\n\n    renderModel(card,theme) {\n        let qlty = this.props.character.star_quality\n        let sfx = this.props.character.special_effects;\n        let { health, ratings, weapons, name, role, type, notes='',__custom } = this.props.character\n        let __tint = __custom? __custom.tint : 0\n\n       \n        return <div className=\"cellophan\"><div className={[theme,\"card\",card,\"back\",].join(' ')}>\n            <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n            <div className=\"foreground\">\n            <Title name={name} alignment={T(role)} type={type} />\n\n            <section>\n                {qlty.length? <heading>Star quality</heading> :undefined} \n                {qlty.map((v, i) => (<Trait key={i} object={v} full />))}\n                {sfx.length? <heading>Special effects</heading> : undefined}\n                {sfx.map((v, i) => (<Trait key={i} object={v} full />))}\n                {notes && (<heading>Notes</heading>)}\n                <p>{notes}</p>\n            </section>\n            </div>\n        </div></div>\n    }\n\n    renderGadget(card){\n        let { name, play, weapon, cost, description,__custom } = this.props.character\n        \n        let strike = (weapon.length)?weapon[0].strike:''\n        let range = (weapon.length)?weapon[0].range:''\n\n        let __tint = __custom? __custom.tint : 0\n\n        let stars = cost ? Array(cost).fill(\"\").map((v, i) => { return <i key={i} className=\"icon-star_icon\"></i> }) : \"Free\"\n\n        let stats = zip(Object.entries({play, cost:stars, range, strike}).filter((i)=>{ \n            let [key,value] = i; \n            return String(value!==undefined? value:\"\").length\n        }))\n\n        return <div className=\"cellophan\"><div className={\"card \"+card+\" back\"}>\n            <div className=\"background\" style={{filter:`hue-rotate(${__tint}deg)`}}></div>\n            <div className=\"foreground\">\n            <Title name={name}  />\n            <section className=\"content\">\n                <StatBlock stats={{ ...stats }} />\n                <Description text={description}/>\n            </section>\n            </div>\n        </div></div>\n    }\n}\n\n\n\nexport class Card extends React.Component {\n    render() {\n        let id = this.props.character.id;\n        return (<div \n            className={\"viewport \"+((id == this.props.currentCharacter)?\"selected\":\"\")}\n            onClick={e =>  {e.stopPropagation(); this.props.dispatch({ type: 'CHARACTER_SELECT', payload: { id } })}}\n         >\n            <div  id={id} >\n            <CardFront character={this.props.character} />\n            <CardBack character={this.props.character} />\n            </div>\n            <div className=\"ui paper\" style={{position:\"absolute\", right:0}}>\n\n            <DropdownButton bsSize=\"xsmall\" title=\"\" bsStyle=\"warning\" id={\"ddb-\"+id} >\n            <MenuItem eventKey=\"1\" onClick={e => {this.props.dispatch({ type: 'CHARACTER_REMOVE', payload: { id } })}}>Remove</MenuItem>\n            <MenuItem eventKey=\"2\" onClick={e => { downloadSingleCharacter(this.props.character)}}>Download</MenuItem>\n            <MenuItem eventKey=\"3\" onClick={e => { sendAsImage(id, \"7TV_cast-\"+slug(this.props.character.name||this.props.character.id)+\".png\",{scale:2})}}>Download as Single Image</MenuItem>\n            <MenuItem eventKey=\"4\" onClick={e => { sendAsImage(id, \"7TV_cast-\"+slug(this.props.character.name||this.props.character.id)+\"_{n}.png\",{scale:2, selector:'.cellophan'})}}>Download as Separate Images</MenuItem>\n            </DropdownButton></div></div>)\n    }\n}\n\nCard = connect((state)=>{\n    return { currentCharacter: state.currentCharacter}\n})(Card);","/* eslint-disable */\nimport React from 'react';\nimport PropTypes from \"prop-types\";\nimport { DescriptionField } from \"react-jsonschema-form\";\nimport TextAreaWidget from \"react-jsonschema-form/lib/components/widgets/TextareaWidget\";\nimport ColorWidget from \"react-jsonschema-form/lib/components/widgets/ColorWidget\";\nimport FileWidget from \"react-jsonschema-form/lib/components/widgets/FileWidget\";\nimport TitleField  from \"react-jsonschema-form/lib/components/fields/TitleField\";\nimport ObjectField  from \"react-jsonschema-form/lib/components/fields/ObjectField\";\nimport ArrayField  from \"react-jsonschema-form/lib/components/fields/ArrayField\";\n\nimport { ButtonGroup, Button, Glyphicon, Collapse, Checkbox,  FormGroup, InputGroup, FormControl } from \"react-bootstrap\";\nimport { insertAtCaret } from '../lib/helpers'\nimport format from 'string-template'\nimport { sendAsFile, parseDataUri } from '../lib/helpers'\n\nimport ReactCrop, { makeAspectCrop } from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\n\nconst addNameToDataURL=(dataURL, name) => {\n  return dataURL.replace(\";base64\", `;name=${name};base64`);\n}\n\nconst getCroppedImg = (src, pixelCrop, fileName) => {\n \n  return new Promise((resolve,reject)=>{\n    const canvas = document.createElement('canvas');\n        canvas.width = pixelCrop.width;\n        canvas.height = pixelCrop.height;\n    const ctx = canvas.getContext('2d');\n    const image=new Image();\n          image.onload=function(){\n            \n            ctx.drawImage(\n              image,\n              pixelCrop.x,\n              pixelCrop.y,\n              pixelCrop.width,\n              pixelCrop.height,\n              0,\n              0,\n              pixelCrop.width,\n              pixelCrop.height\n            );\n            \n            resolve(addNameToDataURL(canvas.toDataURL('image/jpeg'),fileName))\n          }\n\n          image.src=src\n      })\n        \n}\n\nconst textToolsWidgets={\n  ToolInsertText:function(options,widget){\n    let insert=(text)=>{\n      let node=document.getElementById(widget.id);\n      insertAtCaret(node,text)\n      widget.onChange(node.value)\n    }\n    return (props)=>{\n      return <ButtonGroup bsSize=\"xsmall\">{options.map((text,i)=>{ \n        return <Button bsStyle=\"info\" key={i} onClick={e=>insert(text)}>Insert {text}</Button>})\n        }</ButtonGroup>\n    }\n  }\n}\n\nconst parseTextTools=(textTools,props)=>{\n    return Object.entries(textTools).map((entry, i)=>{\n      let [cmp, options] = entry;\n      let Fcmp=textToolsWidgets[cmp](options, props);\n      return <Fcmp key={i} />\n    })\n}\n\nexport function ToolTextareaWidget(props) {\n  const { options } =props\n  return (\n    <div>\n      {parseTextTools(options.textTools,{...props})}\n      <TextAreaWidget {...props}/>\n    </div>)\n}\n\nexport class PictureWidget extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={value:\"\", errorSchema:undefined, crop:{aspect:1}};\n    this.uploadHandler=this.uploadHandler.bind(this)\n    this.cropHandler=this.cropHandler.bind(this)\n    this.updateHandler=this.updateHandler.bind(this)\n  }\n\n  uploadHandler(value,errorSchema){\n    value=value.replace(/name=([^;]+);/gi,(str,p1)=>{return 'name='+encodeURIComponent(p1)+\";\"})\n    this.setState({value, errorSchema})\n    this.props.onChange(value,errorSchema);\n  }\n  cropHandler(crop,pixelCrop,fileName){\n    this.setState({crop, pixelCrop,fileName})\n  }\n  updateHandler(){\n    if (confirm(\"No Way Back!\")){\n      getCroppedImg(this.props.value, this.state.pixelCrop, this.state.fileName ).then((src)=>{\n        this.props.onChange(src,this.state.errorSchema);\n        this.setState({crop:{aspect:1}})\n      })\n    }\n  }\n\n  render(){\n    \n    const {name, data, mime} = parseDataUri(this.props.value);\n    let fileprops={...this.props, onChange: this.uploadHandler}\n    return <div className=\"pictureWidget\">\n    <small>Drag to make a crop Marquee</small><br/>\n    <ReactCrop src={this.props.value||\"\"} crop={this.state.crop} onChange={(crop, pixelCrop)=>this.cropHandler(crop, pixelCrop,name)}/>\n    <br/>\n    <Button onClick={this.updateHandler} bsSize=\"xsmall\" bsStyle=\"danger\" disabled={!!!this.props.value}><Glyphicon glyph=\"pencil\"/> Crop</Button>\n    <Button onClick={e=>{sendAsFile(decodeURIComponent(name),data,mime)}} bsSize=\"xsmall\"  bsStyle=\"info\" disabled={!!!this.props.value}><Glyphicon glyph=\"download\"/> Download</Button>\n    <hr/>\n    <FileWidget {...fileprops}/>\n    </div>\n  }\n}\n\nconst parseTools=(options,props)=>{\n  console.log(props)\n}\n\nexport function ToolArrayField(children) {\n  return (props)=>{\n    return <div><ArrayField {...props}/>{children.map((c,i)=>(React.cloneElement(c,{key:i, widget:props})))}</div>\n  }\n}\n\n\nexport const CollapseObjectField = function (props) {\n  let str=format(((props.uiSchema['ui:options']||{})['template'])||\"\",props.formData)\n  return <details>\n            <summary>{str}</summary>\n            <ObjectField {...props}/>\n          </details>\n};\n","/* eslint-disable */\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport {Accordion, Panel,Button, FormControl, FormGroup, InputGroup, Label } from 'react-bootstrap'\nimport Yaml from 'js-yaml';\nimport { readContext } from '../lib/helpers'\nimport { Marked } from './Ui'\nimport Holdable from 'react-holdable'\nimport UnsupportedField from '../../node_modules/react-jsonschema-form/lib/components/fields/UnsupportedField';\nimport uuid from 'uuid';\n\nconst parseTrait=(label,text)=>{\n    let trait={}\n    if (typeof text === 'string') {\n        trait.description=text\n    } else {\n        trait=Object.assign({},text)\n    }\n    trait.cost=trait.cost || 0\n    trait.name=label\n    return trait;\n} \n\nexport class SFXSelect extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.handleClick=this.handleClick.bind(this)\n        this.state={\n            data: {},\n            value:null\n        }\n    }\n\n    handleClick(e){\n        if (!this.state.value) return;\n        let formData=this.props.widget.formData;\n        this.props.widget.onChange([...formData,this.state.value],{ validate: false })\n    }\n\n    componentDidMount()\n    {\n        fetch(require('../data/sfx.yaml')).then((response)=>{\n            response.text().then(function(txt){this.setState({data:Yaml.safeLoad(txt)})}.bind(this))\n        })\n    }\n    render(){\n        return <FormGroup>\n                <InputGroup><FormControl componentClass=\"select\" placeholder=\"Select SFX to add\" defaultValue=\"\" onChange={e=>{this.setState(Object.assign(this.state,{value:JSON.parse(e.target.value)}))}}>\n            <option>Select SFX to append</option>\n            {Object.entries(this.state.data).map((entry,i)=>{\n                let [group,item]=entry;\n                return <optgroup key={i} label={group}>{Object.entries(item).map((sfx_entry,j)=>{\n                    let [label,value]=sfx_entry;\n                    return <option key={j} value={JSON.stringify(parseTrait(label, value))}>{label}</option>\n                })}</optgroup>\n            })}\n        </FormControl><InputGroup.Button><Button bsStyle=\"success\" onClick={e=>{this.handleClick(e)}}>Add SFX</Button></InputGroup.Button></InputGroup></FormGroup>\n    }\n}\n\nSFXSelect=connect((state)=>({currentCharacter: state.currentCharacter}))(SFXSelect)\n\nexport class SQSelect extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.handleClick=this.handleClick.bind(this)\n        this.state={\n            data: {},\n            value:null\n        }\n    }\n\n    handleClick(e){\n        if (!this.state.value) return;\n        let formData=this.props.widget.formData;\n        this.props.widget.onChange([...formData,this.state.value],{ validate: false })\n    }\n\n    componentDidMount()\n    {\n        fetch(require('../data/sfx-sq.yaml')).then((response)=>{\n            response.text().then(function(txt){this.setState({data:Yaml.safeLoad(txt)})}.bind(this))\n        })\n    }\n    render(){\n        return <FormGroup>\n                <InputGroup><FormControl componentClass=\"select\" placeholder=\"Select SFX to add\" defaultValue=\"\" onChange={e=>{this.setState(Object.assign(this.state,{value:JSON.parse(e.target.value)}))}}>\n            <option>Select SFX to append</option>\n            {Object.entries(this.state.data).map((entry,i)=>{\n                let [group,item]=entry;\n                return <optgroup key={i} label={group}>{Object.entries(item).map((sfx_entry,j)=>{\n                    let [label,value]=sfx_entry;\n                    return <option key={j} value={JSON.stringify(parseTrait(label, value))}>{label}</option>\n                })}</optgroup>\n            })}\n        </FormControl><InputGroup.Button><Button bsStyle=\"success\" onClick={e=>{this.handleClick(e)}}>Add SFX</Button></InputGroup.Button></InputGroup></FormGroup>\n    }\n}\n\nSQSelect=connect((state)=>({currentCharacter: state.currentCharacter}))(SQSelect)\n\n\n\nexport const PROFILES=readContext(require.context('../data/casts', true))\n\nexport class ProfileSelector extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.state={\n            casting:{},\n            selected: null,\n            character:null\n        }\n    }\n\n    componentDidMount()\n    {\n        Object.entries(PROFILES).forEach(([file,path])=>{\n\n        fetch(path).then((response)=>{\n                response.text().then(function(txt){ \n                    let data={}\n                    Yaml.safeLoadAll(txt).forEach(item=>{\n                        data[item.name]=item;\n                    })\n                    this.setState({...this.state, casting: {...this.state.casting,[file.replace(/(^\\.\\/)|(\\.yaml$)/gi,'').replace(/_/gi,\" \")]:data}})\n                }.bind(this))\n            })\n        })\n\n     \n    }\n    /*  */\n    render(){\n        let cast;\n        let select = (item)=>{\n            let [selected, character] = item;\n            if (this.state.selected && (selected==this.state.selected)){\n                selected=null;\n                character=null;\n            }\n            \n            this.setState(Object.assign(this.state,{selected,character}))\n        }\n\n        let create = (item) =>{\n            let [selected, character] = item;\n            fromTemplate(character)\n        }\n\n        if (this.state.casting){\n            cast=(<Accordion>{Object.entries(this.state.casting).map((entry, i)=>{\n                let [key, chr] = entry;\n                return <Panel header={key} eventKey={i} key={i}><div className=\"listing\">\n                    {Object.entries(chr).map(\n                        (item,j)=>{\n                            let [name,char] = item;\n                            return <Holdable key={uuid.v4()} \n                                onHoldComplete={e=>{create(item)}} \n                                onClickComplete={e=>{select(item)}} \n                            ><MiniCard character={item} key={j} selected={this.state.selected && (this.state.selected===name)} /></Holdable>\n                        }\n                    )}\n                </div></Panel>\n            })}</Accordion>)\n            \n        }\n\n        const fromTemplate=(item=null)=>{\n            if (!item) \n                item=this.state.character\n            this.props.dispatch({\n                type:'CHARACTER_NEW', \n                payload: Object.assign({},item,{name: item.name, profile: item.name})\n            });\n        }\n\n        return <div className=\"profileSelector\">\n            <h4>Select a character or Create new</h4>\n            {cast}\n            <Button onClick={e=>fromTemplate()} bsStyle=\"primary\" block disabled={!this.state.selected}>New from template</Button>\n        </div>\n    }\n}\n\nProfileSelector=connect()(ProfileSelector)\n    \nexport class MiniCard extends React.Component {\n    render(){\n        let [name, item] = this.props.character;\n        return <dl className={\"miniCard \"+((this.props.selected)?'selected':'')} onClick={this.props.onClick}>\n            <dt>{name} {item.ratings? `(${item.ratings})`:''} {item.__card? '':<Label>Incomplete</Label>}</dt>\n            <dd><Marked md={item.description}/></dd>\n        </dl>\n    }\n}","/* eslint-disable */\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Button } from 'react-bootstrap'\n\nimport Form, {DescriptionField} from \"react-jsonschema-form\";\n\nimport '../assets/bootstrap/css/paper.min.css'\nimport '../assets/editor.css'\n\n\nimport { dataURItoBlob } from '../lib/helpers'\nimport { ToolTextareaWidget , ToolArrayField, CollapseObjectField, PictureWidget, PickColorWidget} from './FormWidgets'\nimport { SFXSelect, SQSelect, ProfileSelector, MiniCard} from './CharacterWidgets'\n\nconst getCharacterById=(id, cast)=>{\n    return cast.find(item=>{return item.id == id})\n}\n\nconst applyToProps=(dict,props,value)=>{\n    return Object.assign(dict,\n        props.reduce((obj,item)=>{obj[item]=value;return obj;},{})\n    );\n}\n\nconst diff=(arr1,arr2)=>{\n    return arr2.filter(function(i) {return arr1.indexOf(i) < 0;});\n}\n\nconst log = (type) => console.log.bind(console, type);\n\n\nconst SfxArrayField=ToolArrayField([<SFXSelect/>])\nconst SQArrayField=ToolArrayField([<SQSelect/>])\n\nexport class CharacterEditor extends React.Component {\n    \n    constructor(props){\n        super(props);\n        this.handleChange=this.handleChange.bind(this)\n    }\n\n    handleChange(data){\n        if (this.props.onChange)\n            this.props.onChange(data)\n    }\n\n    render(){\n        let character=getCharacterById(this.props.characterId, this.props.cast);\n\n        if (!character) \n            return <div className=\"paper characterEditor\"><div style={{margin:20}}><ProfileSelector/></div></div>;\n\n        const card=character.__card.toLowerCase();\n        const sch=require('../data/'+card+'-uischema.json')\n        const uiSchema=applyToProps(sch,[...diff(sch['ui:order'],Object.keys(character)),'__card','__version','id'],{'ui:widget':'hidden'})\n        const schema = require('../data/'+card+'-schema.json');\n\n        const widgets={\n            toolTextareaWidget:ToolTextareaWidget,\n            pictureWidget:PictureWidget,\n        }\n        const fields={\n            collapseObjectField:CollapseObjectField,\n            sfxArrayField:SfxArrayField,\n            sqArrayField:SQArrayField\n        }\n        return <div className=\"paper characterEditor\">\n            <div style={{margin:20}}>\n            <Form schema={schema}\n                onChange={this.handleChange}\n                onSubmit={log(\"submitted\")}\n                onError={log(\"errors\")}\n                uiSchema={uiSchema}\n                liveValidate\n                formData = {character}\n                widgets={widgets}\n                fields={fields}\n                ><Button bsStyle=\"danger\" block type=\"submit\">Validate</Button></Form>\n                </div>\n        </div>\n    }\n}\n\n\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { Card } from './Card'\nimport { Toolbar, Help, Rescue } from './Ui'\nimport { CharacterEditor } from './CharacterEditor'\nimport SplitPane from 'react-split-pane'\nimport '../assets/resizer.css'\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <SplitPane split=\"vertical\" minSize={300} \n              defaultSize={ parseInt(localStorage.getItem('splitPos')||300, 10) }\n              onChange={ size => localStorage.setItem('splitPos', size) }>\n          \n          <div className=\"sidebar ui \" >\n            <Toolbar/>\n            <Help/>\n            <CharacterEditor \n              characterId={this.props.currentCharacter} \n              cast={this.props.cast}\n              onChange={this.props.updateCharacter}\n            />\n            <Rescue/>\n          </div>\n          <div className=\"canvas\" onClick={e=>this.props.deselectCharacter(e)}>{\n            this.props.cast.map((character,j)=>{return <Card character={character} key={j}/>})\n          }</div>\n        </SplitPane>\n      </div>\n    );\n  }\n}\n\nexport default App = connect(\n  (state)=>{\n    return state\n  },\n  (dispatch)=>{\n    return {\n      deselectCharacter:()=>{\n        dispatch({type:\"CHARACTER_SELECT\",payload: {id:null}})\n      },\n      updateCharacter: (data)=>{\n        dispatch({type:\"CHARACTER_UPDATE\",payload: data.formData})\n      }\n    }\n  })(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport logger from 'redux-logger';\nimport { compose, createStore, applyMiddleware } from 'redux'\nimport reducer from './reducers/index'\nimport App from './components/App';\nimport './assets/index.css';\nimport './assets/fonts/icons/style.css'\n\nimport persistState from 'redux-localstorage';\nimport mergePersistedState from 'redux-localstorage/lib/mergePersistedState'\nimport adapter from 'redux-localstorage/lib/adapters/localStorage';\nimport filter from 'redux-localstorage-filter';\n\nimport Locale from './lib/simple-locale'\n\nexport const LOCALSTORAGE_KEY = 'Studios7TV'\nexport const locale = new Locale({ gb_EN: 'gb_EN'});\n\nlocale.load(locale.gb_EN, require('./i18n/gb_EN.json'));\nlocale.set(locale.gb_EN)\n\n\nexport const T=(str=\"\",params={})=>{\n  return locale.get(str,params);\n}\n\nexport const zip=function(arr){\n  return arr.reduce(function(obj, [k, v]){return { ...obj, [k]: v }}, {});\n}\n\nconst storeReducer = compose(\n  mergePersistedState()\n)(reducer);\n\nconst storage = compose(\n  filter('cast','currentCharacter')\n)(adapter(window.localStorage));\n\nconst enhancer = compose(\n  applyMiddleware(logger),\n  persistState(storage, LOCALSTORAGE_KEY)\n);\n\nexport const store = createStore(storeReducer , enhancer);\n\n//export const store = createStore(reducer);\n\nReactDOM.render(\n  <Provider store={store}>\n  <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}